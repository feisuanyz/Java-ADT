### 2. 接口

#### 2.1 新增接口

本节主要介绍如何在项目中新增接口的具体操作方法。

##### 2.1.1 操作步骤

a）在项目管理页面中，选择“接口管理”，系统显示接口管理页面，如图2-1所示：

![2-1](https://www.feisuanyz.com/fsimage/ks-image/ks_5-1_img.png)

##### 图2-1 选择接口管理

b）单击“新增接口模块”，系统显示“新增接口模块”，输入接口模块的信息，如图2-2所示：

![2-2](https://www.feisuanyz.com/fsimage/ks-image/ks_5-2_img.png)

##### 图2-2 新增接口模块

c）单击“确定” --> 系统提示“新增成功”。

d）单击已新增模块后的“+”，选择“新增接口”，如图2-3所示：

![2-3](https://www.feisuanyz.com/fsimage/ks-image/ks_5-3_img.png)

##### 图2-3 新增接口

e）在“新增接口信息 > 基本信息”页面，配置接口的基本信息，如图2-4所示：

![2-4](https://www.feisuanyz.com/fsimage/ks-image/ks_5-4_img.png)

##### 图2-4 配置新增接口的基本信息

f）单击“下一步”。

##### a）当响应码code输入000000，返回信息“msg”代表成功。

##### b）当响应码code输入999999，返回信息“msg”代表失败。

![2-7](https://www.feisuanyz.com/fsimage/ks-image/ks_5-7_img.png)

##### 图2-7 配置新增接口的输出结果内容

j）单击“新增入口参数”，配置接口的入口参数信息，如图2-8所示：

![2-8](https://www.feisuanyz.com/fsimage/ks-image/ks_5-8_img.png)

##### 图2-8 配置新增接口的入口参数信息

k）在“输出结果 > 选择数据”页面，选择输出结果的“成功”项，如图2-9所示：

![2-9](https://www.feisuanyz.com/fsimage/ks-image/ks_5-9_img.png)

##### 图2-9 选择输出结果的成功项

l）在“输出结果 > 选择数据”页面，选择输出结果的“成功”项，如图2-9所示：

![2-9](https://www.feisuanyz.com/fsimage/ks-image/ks_5-9_img.png)

##### 图2-9 选择输出结果的成功项

m）完成新增接口的入口参数的信息配置，如图2-10所示：


g）在“新增接口信息 > 基本信息”页面，配置接口的基本信息，如图2-5所示：

![2-5](https://www.feisuanyz.com/fsimage/ks-image/ks_5-5_img.png)

##### 图2-5 配置新增接口的入口参数

h）单击“输出结果类型配置 > 输出结果项”，配置接口输出结果的信息，如图2-6所示：

##### 说明：
##### 在接口输出结果类型配置中至少要包括“响应吗”、“返回信息”和“返回数据”这三种配置项，则需要按照以下要求进行配置，假设使用：code代表“响应吗”、msg代表“返回信息”、data代表“返回数据”；code、msg类型选择String，data类型选择Object；data返回业务数据的“动态获取值”选择为是。

![2-6](https://www.feisuanyz.com/fsimage/ks-image/ks_5-6_img.png)

##### 图2-6 配置新增接口的输出结果项

i）单击“输出结果类型配置 > 输出结果内容”，配置接口输出结果的信息，如图2-7所示：

##### 说明：

![2-10](https://www.feisuanyz.com/fsimage/ks-image/ks_5-10_img.png)

##### 图2-10 配置新增接口的入口参数

n）单击“提交，进入“模型”页面”，如图2-11所示：

![2-11](https://www.feisuanyz.com/fsimage/ks-image/ks_5-11_img.png)

##### 图2-11 新增接口信息的模型页面

o）单击“进入模型编辑”，系统显示“窗体视图”页面，选择“组件列表 > 工具 > 输出结果”，拖拽“输出结果”组件至视图区域，如图2-12所示：

![2-12](https://www.feisuanyz.com/fsimage/ks-image/ks_5-12_img.png)

##### 图2-12 窗体视图

p）连接组件的流程图，如图2-13所示：

![2-13](https://www.feisuanyz.com/fsimage/ks-image/ks_5-13_img.png)

##### 图2-13 连接组件流程图

q）选中流程图中的输出结果组件，在右侧输出结果中配置“响应结果”，如图2-14所示：

![2-14](https://www.feisuanyz.com/fsimage/ks-image/ks_5-14_img.png)

##### 图2-14 配置输出结果的响应结果

r）单击“确认”，完成配置响应结果。

s）选中流程图中的输出结果组件，在右侧输出结果中配置“输出项值”，如图2-15、图2-16、图2-17、图2-18所示：

![2-15](https://www.feisuanyz.com/fsimage/ks-image/ks_5-15_img.png)

##### 图2-15 配置输出结果的输出项值

![2-16](https://www.feisuanyz.com/fsimage/ks-image/ks_5-16_img.png)

##### 图2-16 选择值类型

![2-17](https://www.feisuanyz.com/fsimage/ks-image/ks_5-17_img.png)

##### 图2-17 选择流程变量

![2-18](https://www.feisuanyz.com/fsimage/ks-image/ks_5-18_img.png)

##### 图2-18 选择接口根参数

t）单击“确定”，完成配置输出项值，如图2-19所示：

![2-19](https://www.feisuanyz.com/fsimage/ks-image/ks_5-19_img.png)

##### 图2-19 配置输出项值

u）单击“确定”，完成组件配置，如图2-20所示，单击“保存并退出”：

![2-20](https://www.feisuanyz.com/fsimage/ks-image/ks_5-20_img.png)

##### 图2-20 保存组件配置

v）单击“提交”，完成接口配置，如图2-21所示：

![2-21](https://www.feisuanyz.com/fsimage/ks-image/ks_5-21_img.png)

##### 图2-21 提交接口配置

w）单击“提交”后的“...”，选择“发布接口”，如图2-22所示：

![2-22](https://www.feisuanyz.com/fsimage/ks-image/ks_5-22_img.png)

##### 图2-22 发布接口

x）单击“提交”后的“...”，选择“测试用例”，如图2-23所示：

![2-23](https://www.feisuanyz.com/fsimage/ks-image/ks_5-23_img.png)
