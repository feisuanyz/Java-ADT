### 5. 数据库版本管理

#### 5.1 对比数据库版本

系统提供该功能，您可以对比不同的数据库版本。

##### 前提条件

a）您需要拥有“数据库设计”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 5.1.1 操作步骤

a）选择“项目管理 > 数据库设计”，系统显示“数据库设计”页面，如图5-1所示：

![5-1](https://www.feisuanyz.com/fsimage/zc-image/cz_10_1_2_01.png)

##### 图5-1 数据库设计页面

b）选择一个数据库，单击如图5-2所示标号1的红框，选择“数据库版本”：

![5-2](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_1_02.png)

##### 图5-2 选择数据库版本

c）系统显示“设计版本管理”页面，单击“版本对比”，如图5-3所示：

![5-3](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_1_03.png)

##### 图5-3 设计版本管理页面

d）系统显示“版本比较”页面，分别选择“初始版本”和“增量版本”，如图5-4所示：

![5-4](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_1_04.png)

##### 图5-4 版本比较页面

e）单击“比较”，页面下方显示两版本之间的变化信息，如图5-5所示：

![5-5](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_1_05.png)

##### 图5-5 版本变化信息

##### 说明：您可以单击“导出文件”导出变化脚本

#### 5.2 同步数据库版本

系统提供该功能，您可以将数据库的最新版本同步到服务器。但同步表之前，请检查服务器数据库的空间确保有剩余，如果空间不足会导致同步表失败。

##### 前提条件

a）您需要拥有“数据库设计”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 5.2.1 操作步骤

a）选择“项目管理 > 数据库设计”，系统显示“数据库设计”页面，如图5-6所示：

![5-6](https://www.feisuanyz.com/fsimage/zc-image/cz_10_4_4_01.png)

##### 图5-6 数据库设计页面

b）选择需要同步的数据库，单击如图5-7所示标号1的红框，选择“数据库版本”：

![5-7](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_1_02.png)

##### 图5-7 选择数据库版本

c）系统显示“设计版本管理”页面，单击“保存新版本”，如图5-8所示：

![5-8](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_2_03.png)

##### 图5-8 设计版本管理页面

##### 说明：若您已保存新版本，则不需再次保存新版本，系统会直接显示“同步”按钮。

d）单击“同步”，系统弹出“数据库同步配置”对话框，根据实际需要选择数据库同步方式，再次单击“同步”，如图5-9所示：

![5-9](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_2_04.png)

##### 图5-9 数据库同步配置

e）系统弹出“版本对比”对话框，单击“同步”，如图5-10所示：

![5-10](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_2_05.png)

##### 图5-10 版本对比

f）系统提示“确定同步？”，单击“确定”，如图5-11所示：

![5-11](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_2_06.png)

##### 图5-11 是否确定同步

g）系统显示同步日志，提示“同步完成”，如图5-12所示：

![5-12](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_2_07.png)

##### 图5-12 同步完成日志

#### 5.3 重建版本线

系统提供该功能，您可以重建数据库的版本线。

##### 前提条件

a）您需要拥有“数据库设计”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 5.3.1 操作步骤

a）选择“项目管理 > 数据库设计”，系统显示“数据库设计”页面，如图5-13所示：

![5-13](https://www.feisuanyz.com/fsimage/zc-image/cz_10_4_4_01.png)

##### 图5-13 数据库设计页面

b）选择需要重建版本线的数据库，单击如图5-14所示标号1的红框，选择“数据库版本”：

![5-14](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_1_02.png)

##### 图5-14  选择数据库版本

c）系统显示“设计版本管理”页面，单击“重建版本线”，如图5-15所示：

![5-15](https://www.feisuanyz.com/fsimage/zc-image/cz_10_5_3_03.png)

##### 图5-15 设计版本管理页面

