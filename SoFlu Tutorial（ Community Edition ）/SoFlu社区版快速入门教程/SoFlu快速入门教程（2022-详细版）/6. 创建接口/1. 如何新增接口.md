### 6. 创建接口

#### 6.1 如何新增接口

本节主要介绍如何在项目中新增接口的具体操作方法。

##### 6.1.1 操作步骤

a）在平台功能模块界面中，选择“接口管理”功能模块，系统显示接口管理页面，如图1-1所示：

![1-1](https://www.feisuanyz.com/fsimage/ks-image/ks_5-1_img.png)

##### 图1-1 接口管理

b）单击“新增接口模块”，系统显示“新增接口模块”页面，输入接口模块的信息，如图1-2所示：

![1-2](https://www.feisuanyz.com/fsimage/ks-image/ks_5-2_img.png)

##### 图1-2 新增接口模块页面

c）单击“确定”，系统提示“新增成功”。

d）单击已创建模块后的“+”，选择“新增接口”，如图1-3所示：

![1-3](https://www.feisuanyz.com/fsimage/ks-image/ks_5-3_img.png)

##### 图1-3 新增接口

e）在“新增接口信息 > 基本信息”页面，配置接口的基本信息，如图1-4所示：

![1-4](https://www.feisuanyz.com/fsimage/ks-image/ks_5-4_img.png)

##### 图1-4 配置新增接口的基本信息

f）单击“下一步”。

g）在“新增接口信息 > 入参列表”页面，配置接口的入口参数，如图1-5所示：

![1-5](https://www.feisuanyz.com/fsimage/ks-image/ks_5-5_img.png)

##### 图1-5 配置新增接口的入口参数

h）单击“输出结果类型配置 > 输出结果项”，配置接口的输出结果项信息，如图1-6所示：

##### 说明：

##### 在接口输出结果类型配置中至少要包括“响应码”、“提示信息”和“业务数据”这三种配置项，则需要按照以下要求进行配置，假设使用：

##### h1）code代表“响应码”、msg代表“提示信息”、data代表“业务数据”。

##### h2）code、msg类型选择String，data类型选择Object。

##### h3）将data返回业务数据的“动态获取值”设置为“是”。

![1-6](https://www.feisuanyz.com/fsimage/ks-image/00.png)

##### 图1-6 配置新增接口的输出结果项

i）单击“输出结果类型配置 > 输出结果内容”，配置接口的输出结果内容信息，如图1-7所示：

##### 说明：

##### 当响应码“code”输入000000，提示信息“msg”代表成功。

##### 当响应码“code”输入999999，提示信息“msg”代表失败。

![1-7](https://www.feisuanyz.com/fsimage/ks-image/ks_5-7_img.png)

##### 图1-7 配置新增接口的输出结果内容

j）单击“完成编辑”，退出输出结果类型配置页面。

k）单击“新增入口参数”，配置接口的入口参数信息，如图1-8所示：

![1-8](https://www.feisuanyz.com/fsimage/ks-image/ks_5-8_img.png)

##### 图1-8 配置新增接口的入口参数信息

l）配置入口参数的输出结果时，在“输出结果 > 选择数据”页面，选择输出结果的“成功”项，如图1-9所示：

![1-9](https://www.feisuanyz.com/fsimage/ks-image/ks_5-9_img.png)

##### 图1-9 选择输出结果的成功项

m）完成新增接口的入口参数的信息配置，如图1-10所示：

![1-10](https://www.feisuanyz.com/fsimage/ks-image/ks_5-10_img.png)

##### 图1-10 配置新增接口的入口参数

n）单击“提交，进入“模型”页面”，如图1-11所示：

![1-11](https://www.feisuanyz.com/fsimage/ks-image/ks_5-11_img.png)

##### 图1-11 新增接口信息的模型页面

o）单击“进入模型编辑”，系统显示“窗体视图”页面，选择“组件列表 > 工具 > 输出结果”，拖拽“输出结果”组件至视图区域，如图1-12所示：

![1-12](https://www.feisuanyz.com/fsimage/ks-image/ks_5-12_img.png)

##### 图1-12 窗体视图

p）连接组件的流程图，如图1-13所示：

![1-13](https://www.feisuanyz.com/fsimage/ks-image/ks_5-13_img.png)

##### 图1-13 连接组件流程图
