### 1. 人脸识别

#### 1.1 人脸识别

##### 案例场景： 在信息高速发展的时代下，人脸识别功能已成为常见功能， 如人脸识别门禁考勤系统，人脸识别防盗门和网上软件实名认证等，但由于现在传统开发人员技术层次不齐，刚接触开发的人员想开发一个人脸的功能可能需要较长的时间，使用飞算SoFlu全自动软件工程平台就能极大地提升开发效率与时间，使用现有组件就能快速开发出人脸识别功能。

案例通过在全自动开发平台构建调用人脸识别函数所需的参数，再调用人脸识别函数返回启动人脸识别服务所需的数据，前端获取到所需的数据便能启动人脸识别服务。案例仅用到了平台中的单函数组件、输出结果组件两种组件，通过拖拽组件绘制流程图并进行相关配置便可实现功能。

##### 8.1.1 效果展示

对在全自动开发平台创建的人脸识别接口执行测试用例，便可以获取到启动人脸识别服务所需的数据，如图1-1所示：

![1-1](https://www.feisuanyz.com/fsimage/alcj-image/renlian/2_1.png)

##### 图1-1 全自动开发平台测试用例响应内容页面

##### 注意： 本案例仅针对后端程序开发，若与前端程序联合使用，即前端获取到所需数据后启动人脸识别服务，便会正式进入到人脸识别页面（页面的具体样式由前端进行设计，可参考图1-2）。

![1-2](https://www.feisuanyz.com/fsimage/alcj-image/renlian/2_2.png)

##### 图1-2 前端效果图

##### 8.1.2 准备工作

a）提前准备一个开通了人脸核身服务的腾讯云账号。

b）进入腾讯云控制台获取到相关参数，放入全自动开发平台配置组管理中，如图1-3所示：

![1-3](https://www.feisuanyz.com/fsimage/alcj-image/renlian/table1.png)

##### 图1-3 参数说明

![1-4](https://www.feisuanyz.com/fsimage/alcj-image/renlian/3_1.png)

##### 图1-4 控制台界面

![1-5](https://www.feisuanyz.com/fsimage/alcj-image/renlian/3_2.png)

##### 图1-5 配置组管理页面

##### 8.1.3 流程图概览

![1-6](https://www.feisuanyz.com/fsimage/alcj-image/renlian/4_1.png)

##### 图1-6 流程图概览

逻辑描述：

a） 将调用人脸识别函数所需的请求参数构建成一个Map；

b） 将第一步构建的Map放入人脸识别函数中；

c） 将启动人脸识别服务所需的参数构建成一个Map；

d） 输出启动人脸识别服务所需的参数信息。

##### 8.1.4 操作步骤

a）新增人脸识别接口

a1）进入全自动开发平台“接口管理”功能模块，新增人脸识别接口，填写接口的基本信息。

![1-7](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_1.png)

##### 图1-7 填写接口基本信息

a2）此处无需配置入参，单击“提交”，进入下一步。

![1-8](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_2.png)

##### 图1-8 提交并进入下一步

a3）进入模型编辑。

![1-9](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_3.png)

##### 图1-9 进入模型编辑

a4）在窗体视图中，通过拖拽左侧组件列表中的组件进行流程图的设计。

![1-10](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_4.png)

##### 图1-10 进行流程图设计

b）组件的具体配置

b1）单函数组件【构建人脸请求入参】：调用构建Map函数newMapInit(Object[] keyAndValue)用于构建人脸识别函数的请求参数，如图1-11、图1-12、图1-13、图1-14、图1-15、图1-16所示：

##### 说明：app_id、secret参数值引用配置组中的值，name、idNo参数值自行填写，user_id、orderNo、nonce在本案例中均通过函数getUuid()或getUuid32()获取。

![1-11](https://www.feisuanyz.com/fsimage/alcj-image/renlian/table2.png)

##### 图1-11 请求参数说明

![1-12](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_5.png)

##### 图1-12 单函数组件【构建人脸请求入参】

![1-13](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_6.png)

##### 图1-13 选择函数

![1-14](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_7.png)

##### 图1-14 填写参数（记录1-4）

![1-15](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_8.png)

##### 图1-15 填写参数（记录5-10）

![1-16](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_9.png)

##### 图1-16 填写参数（记录11-14）

b2）单函数组件【SDK人脸核身增强版】：调用人脸识别函数faceEnhancedEdition(Map params)返回启动人脸识别服务所需的数据，传入上一步构建的请求参数即可，如图1-17、图1-18所示：

![1-17](https://www.feisuanyz.com/fsimage/alcj-image/renlian/5_10.png)
