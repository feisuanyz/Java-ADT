### 1. SQL组件

#### 1.1 事务组件的使用

系统提供该功能，您可以在系统中利用事务组件进行SQL事务的开启和提交操作。

##### 1.1.1 前提条件

a）您需要拥有“接口管理”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 1.1.2 操作步骤

a）在窗体视图左侧的“组件列表”中“SQL”栏目下，找到“开始事务”和“提交事务”组件，拖拽至绘图面板，连接好组件的流程图，如图1-1、1-2所示：

![1-1](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_01.png)

##### 图1-1 找到事务组件

![1-2](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_02.png)

##### 图1-2 连接组件流程图

b）选择一个SQL组件放置在事务组件之间（此处以单SQL组件为例），为显示效果，同时也放置一个输出结果组件，连接好组件的流程图，如图1-3所示：

![1-3](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_03.png)

##### 图1-3 连接组件流程图

c）选中单SQL组件，根据项目需求填写单SQL组件的名称和描述，如图1-4所示：

![1-4](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_05.png)

##### 图1-4 填写单SQL组件基本信息

d）单击“SQL信息”处未选中记录方框，如图1-5所示：

![1-5](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_06.png)

##### 图1-5 配置SQL信息

e）进入“填写数据”页面，选择SQL名称，同时选择流程变量，如图1-6所示：

![1-6](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_04.png)

##### 图1-6 选择SQL名称

##### 注意：用户只能将事务组件用于新增、修改、删除SQL语句，查询SQL语句不存在事务的情况。

f）SQL信息设置完成后，单击“确定”即可。

g）选中输出结果组件，在“响应结果”处选择输出结果信息，如图1-7、1-8所示：

![1-7](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_07.png)

##### 图1-7 选择响应结果

![1-8](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_08.png)

##### 图1-8 选择输出结果信息

h）在“输出项值”处，单击“未选中记录”方框，进入“填写数据”页面，如图1-9所示：

![1-9](https://www.feisuanyz.com/fsimage/zc-image/cz_22_2_4_09.png)

##### 图1-9 设置输出项值

i）在“字段值”处，根据项目需求选择流程变量，如图1-10所示：
