### 2. 工具组件

#### 2.5 解压组件的使用

##### 2.5.1 解压组件

系统提供该功能，您可以在系统中利用解压组件进行可视化开发。

##### 2.5.2 前提条件

a）您需要拥有“流程编辑器”功能的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 2.5.3 操作步骤

a）在窗体视图左侧的“组件列表”中“工具”栏目下，找到解压组件，拖拽至绘图面板，如图5-1所示：

![5-1](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_01.png)

##### 图5-1 找到解压组件

b）同时拖拽一个SFTP方式下载组件和一个输出结果组件至绘图面板，连接好组件的流程图，如图5-2所示：

![5-2](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_02.png)

##### 图5-2 连接组件流程图

##### 说明：解压组件需要和文件下载组件搭配使用，故此处示例加上了一个SFTP方式下载组件。

c）选中SFTP方式下载组件，根据项目需求填写SFTP方式下载组件的名称和描述，如图5-3所示：

![5-3](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_03.png)

##### 图5-3 填写SFTP方式下载组件的基本信息

d）单击”SFTP下载信息“处的未选中记录方框，进入填写数据页面，如图5-4所示：

![5-4](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_04.png)

##### 图5-4 配置SFTP下载信息

e）在填写数据页面的“资源实例名称“处，单击”选择记录“方框，如图5-5所示：

![5-5](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_05.png)

##### 图5-5 选择SFTP资源实例

f）双击选择已连好的SFTP资源，单击“确定”。

g）在“下载路径“处，输入需下载文件的路径，如图5-6所示：

![5-6](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_06.png)

##### 图5-6 输入下载文件路径

##### 注意：解压组件可解压的文件格式目前只支持zip、tar、tar.gz三种，故在选择下载文件时需要留意。

h）在“下载结果返回方式“处，选择”返回流对象“，如图5-7所示：

![5-7](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_07.png)

##### 图5-7 选择下载结果返回方式

##### 说明：因需要将以SFTP方式下载的文件进行解压，故此处选择返回流对象，当不需要解压只需要下载该文件时，也可以选择“直接下载”选项。

i）单击“确定”，退出填写数据页面。

j）选中“解压组件”，根据项目需求填写解压组件的名称和描述，如图5-8所示：

![5-8](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_08.png)

##### 图5-8 填写解压组件基本信息

k）单击“解压信息“处的未选中记录方框，进入填写数据页面，如图5-9所示：

![5-9](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_09.png)

##### 图5-9 配置解压信息

l）在填写数据页面，单击“下载的文件内容对象“处的”请选择流程变量“旁边的按钮，进入参数选择页面，如图5-10所示：

![5-10](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_10.png)

##### 图5-10 选择下载的文件内容对象

m）在参数选择页面，选择“SFTP方式下载“页签，双击”sftpDownloadExecuteResult“引用SFTP方式下载组件的执行结果，可获得其下载的文件，如图5-11所示：

![5-11](https://www.feisuanyz.com/fsimage/zc-image/cz_22_1_3_11.png)
