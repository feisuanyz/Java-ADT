### 4. 文件组件

#### 4.3 SFTP方式上传组件的使用

##### 4.3.1 SFTP方式上传组件

系统提供该功能，您可以在系统中使用SFTP方式上传组件将文件以SFTP方式上传至服务器，本节将介绍SFTP方式上传组件的简单使用流程。

##### 4.3.2 前提条件

a）您需要拥有“接口管理”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 4.3.3 操作步骤

a）在窗体视图左侧的“组件列表”中“文件”栏目下，找到“SFTP方式上传组件”，拖至窗体视图，如图3-1所示：

![3-1](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_1.png)

##### 图3-1 找到SFTP方式上传组件

b）为显示效果，同时选择一个输出结果组件，拖至窗体视图，连接好组件的流程图，如图3-2所示：

![3-2](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_2.png)

##### 图3-2 连接组件流程图

c）选中SFTP方式上传组件，根据项目需求填写SFTP方式上传组件的名称和描述，如图3-3所示：

![3-3](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_3.png)

##### 图3-3 填写SFTP方式上传组件的基本信息

d）单击“SFTP上传信息”处未选中记录方框，进入“填写数据”页面，如图3-4所示：

![3-4](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_4.png)

##### 图3-4 配置SFTP上传信息

e）在填写数据页面，单击“资源实例名称”处的选择记录方框选择已接好的SFTP资源，如图3-5所示：

![3-5](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_5.png)

##### 图3-5 选择资源实例

f）单击“自定义上传文件”处“请选择流程变量”方框旁的按钮，选择file参数，如图3-6所示：

![3-6](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_6.png)

##### 图3-6 添加参数信息

##### 说明：在使用SFTP上传组件时，需要在配置入口参数处创建File类型的参数，如图3-7所示：

![3-7](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_16.png)

##### 图3-7 创建file参数

g）输入文件要上传的位置，如图3-8所示：

![3-8](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_7.png)

##### 图3-8 输入文件位置

h）单击“确定”，退出填写数据页面。

i）选中“输出结果”组件，单击“响应结果”处的三等号，进入选择数据页面，如图3-9所示：

![3-9](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_3_8.png)

##### 图3-9 配置响应结果

j）双击选择系统默认响应结果。
