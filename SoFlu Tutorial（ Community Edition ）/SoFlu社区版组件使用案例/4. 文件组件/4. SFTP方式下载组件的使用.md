### 4. 文件组件

#### 4.4 SFTP方式下载组件的使用

##### 4.4.1 SFTP方式下载组件

系统提供该功能，您可以在系统中使用SFTP方式下载组件以SFTP方式下载指定文件。

##### 4.4.2 前提条件

a）您需要拥有“接口管理”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 4.4.3 操作步骤

a）在窗体视图左侧的“组件列表”中“文件”栏目下，找到SFTP方式下载组件，拖至窗体视图，如图4-1所示：

![4-1](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_4_1.png)

##### 图4-1 找到SFTP方式下载组件

b）连接好组件的流程图，选中SFTP方式下载组件，根据项目需求填写SFTP方式下载组件的名称和描述，如图4-2所示：

![4-2](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_4_2.png)

##### 图4-2 填写SFTP方式下载组件的基本信息

c）单击“SFTP下载信息”处未选中记录方框，进入填写数据页面，如图4-3所示：

![4-3](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_4_3.png)

##### 图4-3 配置SFTP下载信息

d）在填写数据页面，单击“资源实例名称”处的选择记录方框选择已接好的SFTP资源，如图4-4、4-5所示：

![4-4](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_4_4.png)

##### 图4-4 选择资源实例

![4-5](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_4_5.png)

##### 图4-5 参数选择页面

e）设置文件的下载路径，如图4-6所示：

![4-6](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_4_6.png)

##### 图4-6 设置下载路径

##### 说明：文件的下载路径可以根据项目需求，通过选择流程变量、选择函数结果或直接输入值的方式来设置，本示例采用直接输入值的方式。

f）选择下载结果返回方式，可根据项目需求选择“直接下载”或“返回流对象”，如图4-7所示：

![4-7](https://www.feisuanyz.com/fsimage/zc-image/cz_22_4_4_8.png)
