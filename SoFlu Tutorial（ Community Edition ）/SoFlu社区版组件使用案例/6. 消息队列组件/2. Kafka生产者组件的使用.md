### 6. 消息队列组件

#### 6.2 Kafka生产者组件的使用

##### 6.2.1 Kafka生产者组件

系统提供该功能，您可以利用Kafka生产者组件进行可视化开发，本节主要介绍Kafka生产者组件的简单使用流程。

##### 6.2.2 前提条件

a）您需要拥有“接口管理”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

c）您需要提前创建好Kafka生产者及Kafka消费者的资源实例，创建方式见《SoFlu社区版基础操作指南[第10.1.6节](https://gitee.com/feisuanyz/SoFlu-adp/blob/master/SoFlu%E7%A4%BE%E5%8C%BA%E7%89%88%E6%95%99%E7%A8%8B/SoFlu%E7%A4%BE%E5%8C%BA%E7%89%88%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/10.%20%E8%B5%84%E6%BA%90%E5%AE%9E%E4%BE%8B/1.%20%E6%96%B0%E5%A2%9E%E8%B5%84%E6%BA%90%E5%AE%9E%E4%BE%8B.md#16-%E6%96%B0%E5%A2%9Ekafka%E7%94%9F%E4%BA%A7%E8%80%85%E8%B5%84%E6%BA%90)和[第10.1.7节](https://gitee.com/feisuanyz/SoFlu-adp/blob/master/SoFlu%E7%A4%BE%E5%8C%BA%E7%89%88%E6%95%99%E7%A8%8B/SoFlu%E7%A4%BE%E5%8C%BA%E7%89%88%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/10.%20%E8%B5%84%E6%BA%90%E5%AE%9E%E4%BE%8B/1.%20%E6%96%B0%E5%A2%9E%E8%B5%84%E6%BA%90%E5%AE%9E%E4%BE%8B.md#17-%E6%96%B0%E5%A2%9Ekafka%E6%B6%88%E8%B4%B9%E8%80%85%E8%B5%84%E6%BA%90)》。

##### 6.2.3 操作步骤

a）新增一个接口，填写接口的基本信息，填写完成后，单击“下一步”，如图2-1所示：

![2-1](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_12.png)

##### 图2-1 填写接口的基本信息

a）新增一个接口，填写接口的基本信息，填写完成后，单击“下一步”，如图2-1所示：

![2-1](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_12.png)

##### 图2-1 填写接口的基本信息

b）进入配置入口参数页面，根据项目需求配置参数信息，配置完成后单击“提交”，如图2-2所示：

![2-2](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_13.png)

##### 图2-2 添加参数信息

##### 说明：本示例不用配置参数。

c）进入模型页面，单击“进入模型编辑”，如图2-3所示：

![2-3](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_14.png)

##### 图2-3 模型页面

d）进入窗体视图，找到“消息队列”栏目下的Kafka生产者组件，拖拽至绘图面板，如图2-4所示：

![2-4](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_1.png)

##### 图2-4 窗体视图

e）同时拖拽一个输出结果组件，连接好组件的流程图，如图2-5所示：

![2-5](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_2.png)

##### 图2-5 连接组件流程图

f）选中Kafka生产者组件，单击“资源实例”处的选择记录方框，如图2-6所示：

![2-6](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_3.png)

##### 图2-6 选择资源实例

g）进入表格选择页面，双击选择已连接好的Kafka生产者资源，如图2-7所示：

![2-7](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_4.png)

##### 图2-7 选择Kafka生产者资源

h）输入Kafka主题，如图2-8所示：

![2-8](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_5.png)

##### 图2-8 输入Kafka主题

##### 说明：Kafka生产者组件的主题就是Kafka消费者资源实例的Topic，进入“资源示例”模块，找到Kafka消费者资源，复制kafka消费者topic，在“输入Kafka主题”处粘贴即可，如图2-9所示：

![2-9](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_6.png)

##### 图2-9 找到kafka消费者的topic

i）单击“流程变量”处的录入参数方框，根据项目需求录入参数，如图2-10、2-11、2-12、2-13所示：

##### 说明：此处仅以输入HelloWorld作为示例，您可以自行录入参数。

![2-10](https://www.feisuanyz.com/fsimage/zc-image/cz_22_9_1_7.png)

##### 图2-10 单击录入参数方框
