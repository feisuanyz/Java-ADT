### 6. 自定义资源实例

#### 6.1 自定义资源实例

通过自行定义的资源实例，先上传至平台进行审核，只有平台审核通过的资源实例，才能上架该平台使用。

#### 6.1.1 前提条件

自定义资源实例需要下载如下Demo工程包和开发辅助工具，具体如下：

资源实例Demo工程包下载地址：demo-resource.zip

下载开发辅助工具：在全自动开发平台中，单击右上角下载开发辅助工具，如图1-1所示。

![1-1](https://www.feisuanyz.com/fsimage/gj-image/gj_0000_img.png)

##### 图1-1 下载开发辅助工具

#### 6.1.2 操作步骤

a）在Pom文件中增加依赖包。

包名：` com.feisuanyz.flow.resource `

类名：` Resource `

```
<dependency>
     <groupId>com.feisuanyz.flow</groupId>
     <artifactId>flow-core-cmpt</artifactId>
     <version>${version}</version>
     <scope>provided</scope>
     <systemPath>${开发辅助工具路径}/flow-core-cmpt-${version}.jar</systemPath>
</dependency>
```

b）实现Resource接口。

包名：` com.feisuanyz.flow.resource `

类名：` Resource `

实现方法：

```
/**
 * 创建资源实例
 * @param parameters 参数
 * @return 实例对象
 * @throws ResourceException
 */
T newInstance(ResourceParameter parameters) throws ResourceException;
```

c）获取资源实例。

平台提供了工具类` ResourceUtil.java `调用相应的方法，获取到的对象是Objec，强转成对应的实例对象即可。

方法示例如下：

```
/**
 * 获取资源实例
 * @param resourceName 资源名称
 * @return 资源实例
 */
public static Object getResourceInstance(String resourceName){
    return getResourceInstance(ProcessInfoHolder.get().getProjectId(),resourceName);
}
