### 2. 操作指南

#### 2.1 项目管理

##### 2.1.9 新增环境配置

本节为您介绍如何新增环境配置，包含HTTP、全局变量、证书，以及TCP四个部分的配置。

##### 2.1.9.1 操作步骤

a）进入全自动测试平台，鼠标悬停在项目右下角的更多图标上，然后单击环境配置。

![image](https://user-images.githubusercontent.com/79617492/184280688-d398e518-dc9c-4d0f-b3d5-302afa91dc5c.png)

##### 图9-1 单击环境配置

b）单击 ＋，填写环境的基本信息。

![image](https://user-images.githubusercontent.com/79617492/184280692-0c182cec-76f9-40c0-9433-e995fc4df4a7.png)

##### 图9-2 填写环境的基本信息

c）新增HTTP配置：单击HTTP配置，填写域名或IP地址信息，选择所属接口。

![image](https://user-images.githubusercontent.com/79617492/184280705-e279cd5b-f2e1-4f5b-9c4e-7a46f3e7de84.png)

##### 图9-3 新增HTTP配置

d）单击添加请求头，进行添加请求头信息，然后再单击添加域名配置即可将当前域名添加至下方域名列表。

![image](https://user-images.githubusercontent.com/79617492/184280716-007fc90e-06e3-4104-af71-3e246c33f965.png)

##### 图9-4 添加请求头并添加域名配置

##### 说明：

d1）已添加的域名可在域名列表中双击进行编辑修改，修改完成后单击更新域名配置即可；若需添加多个域名配置，进行相同操作即可。

d2）在环境配置中的请求头为全局请求头，若添加接口时未添加请求头，则在执行接口时会默认带上环境配置的请求头；若添加接口时指定了请求头，则执行接口时会带上接口指定的请求头。

e）新增全局变量配置：单击全局变量 > 新增变量，可以设置全局变量。

![image](https://user-images.githubusercontent.com/79617492/184280732-a5bd707b-526f-4e80-aede-b0688325ed5c.png)

##### 图9-5 新增全局变量配置

##### 说明：

##### 全局变量分为常量和Jmeter函数两种类型，若在环境配置下配置了全局变量，则在任何一处（如测试场景、性能测试等）选择了该环境配置后即可使用该全局变量。

f）新增证书配置：单击证书配置 > 上传文件。

![image](https://user-images.githubusercontent.com/79617492/184280739-b879a37a-737b-45a2-adbb-fa520192dfaa.png)

##### 图9-6 新增证书配置

g）输入证书密码，上传证书文件，然后单击确定即可。

![image](https://user-images.githubusercontent.com/79617492/184280757-26004453-465c-4f1a-8ea7-d2efbd98671b.png)

##### 图9-7 上传证书文件

##### 说明：

##### g1）证书配置便于用户执行双向认证的https协议接口，若不需要执行双向认证的https协议接口，也可以不用进行证书配置，系统将默认执行单向认证的https协议接口。

##### g2）目前只支持p12、jks、pfx格式的证书文件。

##### g3）一个证书可能存在多个条目，若未勾选“是否默认”选项，系统将默认使用第一条证书条目。

h）新增TCP配置：单击TCP配置，填写TCP配置的相关信息。

![image](https://user-images.githubusercontent.com/79617492/184280770-f3194094-e88d-41e7-bde0-606188a3b8ba.png)

##### 图9-8 新增TCP配置

##### 说明：

##### TCP配置用于配置TCP请求，若在环境配置中进行了TCP配置，则在测试场景中创建自定义请求（请求类型选择为TCP且未填写相关信息）时，系统将默认使用环境配置中的值。

i）单击保存环境配置。

![image](https://user-images.githubusercontent.com/79617492/184280782-feea7b94-0b58-4780-803f-fcafb39830fe.png)

##### 图9-9 单击保存环境配置
