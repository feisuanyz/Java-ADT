### 2. 操作指南

#### 2.3 测试用例

##### 2.3.5 UI测试

##### 2.3.5.1 配置UI环境

全自动测试平台支持本地端、平台端配置UI环境，若您选择本地端配置UI环境，则需要使用本地客户端登录全自动测试平台，在填写服务地址时需使用本地IP地址；若您选择平台端配置UI环境，直接通过飞算云智官网进入全自动测试平台即可，但在填写服务地址时需使用公网IP（即外网IP地址），以下为您介绍具体操作过程。

##### 说明：

##### a）关于如何使用本地客户端登录全自动测试平台请参考文档《SoFlu全自动测试平台教程快速入门第1.11节：如何部署本地客户端》部分。

##### b）公网IP：全球唯一IP地址，所有可以上网的地方均可访问的IP地址，公网IP地址申请成本较大，故一般推荐使用本地端配置UI环境。

##### 2.3.5.1.1 步骤引导

a）本地端配置UI环境

b）平台端配置UI环境

##### 2.3.5.1.1.1 本地端配置UI环境

##### 前提条件：若您选择使用本地端配置UI环境，请确保您已使用本地客户端登录全自动测试平台，如下图所示，登录成功后则可以继续以下步骤。

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/image.png)

##### 图1-1 使用本地客户端登录全自动测试平台

##### 步骤 1：下载启动节点引擎包

a）进入全自动测试平台首页，单击右上角工具下载选项，下载节点引擎包。

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/1-2.png)

##### 图1-2 使用本地客户端登录全自动测试平台

b）解压节点引擎包，双击` startup.bat `启动节点引擎服务。

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/1-3.png)

##### 图1-3 启动节点引擎服务

##### 注意：无论是启动节点引擎还是本地客户端，文件包路径均需为英文路径才可成功启动，路径中不可以出现中文或其他特殊符号。

##### 步骤 2：在指定项目中添加UI环境

a）选择您需要配置UI环境的测试项目，将鼠标悬停至项目卡片右下角三个点按钮处，选择“环境配置”。

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/1-4.png)

##### 图1-4 选择“环境配置”

b）进入环境配置列表页面，单击 + 按钮添加环境，测试类型选择“UI测试”。

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/1-5.png)

##### 图1-5 测试类型选择“UI测试”

c）填写环境名称和服务地址，单击测试连接，查看是否可以连接成功。

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/1-6.png)

##### 图1-6 单击测试连接

##### 说明：

##### c1）服务地址填写` http://ip:port `，本地端配置UI环境的ip一般填写为localhost或者直接填写本地ip地址，端口号默认为8186，您也可以修改节点引擎包中的` application.yml `文件，将默认端口号修改为其他可用端口号。

##### c2）点击测试连接时，请确保此时本地客户端和节点引擎包均处于启动状态，否则将连接失败；同时启动本地客户端和节点引擎服务的端口号不可以相同，启动本地客户端的默认端口号为8080，启动节点引擎服务的默认端口号为8186，您可以自行在` application.yml `文件中修改端口号信息。

##### d）若系统显示“连接成功”，您可以继续以下步骤；若系统显示“连接失败”，则需要检查问题后重试。

##### e）UI服务地址配置成功后，您可以选择“全局变量”页签，添加全局变量参数。

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/1-7.png)

##### 图1-7 添加全局变量参数

##### 说明：

##### 全局变量支持选择常量、变量集、Excel文件、SQL管理和Mock函数，其中变量集、Excel文件、SQL管理属于数据集管理内容，您可以参见《SoFlu全自动测试平台教程第2.4.3节：数据集管理》部分。

f）最后单击保存环境配置即配置UI环境完成。

##### 2.3.5.1.1.2 平台端配置UI环境

##### 说明：使用平台端配置UI环境与使用本地端配置UI环境的操作步骤基本相同，不同之处在于，您通过平台端配置UI环境时，需通过飞算云智官网进入全自动测试平台首页；填写服务地址时，需使用可用的公网IP地址，如下图所示；示例中使用的公网IP服务端口号为8080，所下载的节点引擎服务默认端口号为8186，您可以根据实际需求在` application.yml `配置文件中修改端口号。

##### 前提条件：测试连接时，请确保节点引擎服务处于启动状态。

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/1-8.png)

##### 图1-8 通过飞算云智官网进入全自动测试平台

![输入图片说明](../../../images/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/5.%20UI%E6%B5%8B%E8%AF%95/1-9.png)

##### 图1-9 使用可用的公网IP地址
