### 2. 操作指南

#### 2.3 测试用例

##### 2.3.6 性能测试

##### 2.3.6.2 创建接口性能测试

UI性能测试是对前端界面进行的性能测试，通过并发多条相同的UI用例模拟多个用户操作同一界面来检测页面的加载速度。本节为您介绍如何创建UI性能测试。

##### 2.3.6.2.1 前提条件

a）存在可用的环境配置，具体操作可参考《SoFlu全自动测试平台教程操作指南第2.1.9节：新增环境配置》；

b）存在可用的资源池，具体操作可参考《SoFlu全自动测试平台教程操作指南第2.2.2.1.2节：新增资源池》；

c）存在已绑定测试场景的接口测试用例，具体操作可参考《SoFlu全自动测试平台教程操作指南第2.3.1.1节：新增测试用例》和《SoFlu全自动测试平台教程操作指南第2.4.1.1节：新建测试场景》；

d）已配置好可用的AccessKey参数，具体操作请参见文档《SoFlu全自动测试平台教程操作指南第2.1.6节：配置AccessKey》。

##### 2.3.6.2.2 操作步骤

a）进入全自动测试平台，单击“性能测试 > UI测试管理 > 新增性能测试”开始创建UI性能测试。

![image](https://user-images.githubusercontent.com/79617492/190991036-9561f9a0-c6f8-4819-b0d5-f56b220360a3.png)

##### 图2-1 开始创建UI性能测试

b）系统弹出新增接口测试页面，您需要填写UI性能测试的基本信息，并设置超时时间。

![image](https://user-images.githubusercontent.com/79617492/190991053-c8d49bd0-8483-42c1-842e-95bb2d0acb19.png)

##### 图2-2 填写UI性能测试的基本信息

##### 说明：

##### b1）环境：表示当前UI性能测试运行的UI环境，执行UI脚本时会引用对应UI环境中全局变量的字段值。

##### b2）资源池：表示当前UI性能测试运行的资源池。

##### b3）浏览器类型：表示当前UI性能测试脚本运行的浏览器类型。

##### b4）关闭浏览器：选择是，则在每次循环时关闭上次打开的浏览器；选择否，则继续使用上次打开的浏览器，且该操作会重用会话与缓存，执行效率会提高。

##### b5）超时时间：表示若在设置的超时时间内，性能测试还未执行完成，则该性能测试就会因超时而执行失败；若未设置超时时间，则性能测试不会因时间限制而执行失败。

c）单击导入测试用例，选择当前性能测试需关联的一条UI测试用例，勾选完成后单击确定即可。

![image](https://user-images.githubusercontent.com/79617492/190991114-d222d356-0478-4359-a58d-47182fa5b188.png)

##### 图2-3 选择需关联的一条UI测试用例

##### 说明：

##### c1）UI性能测试仅可导入一条UI测试用例，若所关联的UI测试用例脚本进行了修改，则需要重新导入该UI测试用例才可获取到最新的脚本数据。

##### c2）需关联的UI测试用例需审核通过、处于启用状态，同时创建保存对应UI脚本后才可导入。

d）展开测试用例，您可以根据实际需求配置当前性能测试的并发用户数、并发模式以及并发分配策略，配置完成后单击保存即创建完成。

![image](https://user-images.githubusercontent.com/79617492/190991133-10f853bd-4021-4e9f-b14c-b96d3175b776.png)

##### 图2-4 配置当前性能测试的相关信息

##### 说明：

##### d1）“按循环次数”表示循环测试用例多少次，“按持续时间”表示进行多久时长的性能测试。

##### d2）“在多少秒内增加并发用户”：表示在设置的时间内完成所有并发用户数的请求。

##### d3）“自动分配”：表示系统自动将并发用户数均匀分配给资源池下的所有资源。

##### d4）“固定资源”：表示当分配的资源池存在多个资源，可以将所有并发用户数固定分配给该资源池下某一指定资源。

##### d5）“自定义”：即可以自定义设置占比，将并发用户数按照占比分配到各资源。

通过设置并发分配策略，可以合理利用资源，同时还可以测试不同资源的情况，最终在所有资源中进行性能测试的情况都会在测试报告中体现。
