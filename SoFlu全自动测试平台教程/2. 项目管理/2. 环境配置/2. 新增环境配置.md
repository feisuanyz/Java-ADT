### 2. 项目管理

#### 2.2 环境配置

##### 2.2.2 新增环境配置

本节为您介绍如何新增环境配置。

新增环境配置时，您可以根据实际需要进行HTTP、全局变量、证书，以及TCP四个部分的配置。

##### 2.2.2.1 操作步骤

a）新增环境配置

进入全自动测试平台，单击平台上方“项目设置”选项，选择“项目管理”进入环境列表，单击“+”即可新增环境配置。

![2-1](https://www.feisuanyz.com/fstest/xmgl/huanjingpeizhi/huanjing_1.png)

##### 图2-1 新增环境配置

b）填写环境的名称及备注信息

c）HTTP配置（可选）

单击“HTTP配置”页签，填写域名或IP地址信息，选择所属接口，添加请求头信息，单击“添加域名配置”即可将当前域名添加至下方域名列表，若需添加多个域名配置，再进行相同操作即可。

![2-2](https://www.feisuanyz.com/fstest/xmgl/huanjingpeizhi/huanjing_2.png)

##### 图2-2 进行HTTP配置

##### 说明：

##### c1）HTTP配置用于配置域名或IP地址，用户可以添加多个域名配置，并且可以为域名设置所属接口，包含所有接口或指定模块下的接口或指定路径下的接口，同时可为域名添加请求头信息。

##### c2）在为域名设置所属接口时，使用优先级为“路径 >> 模块 >> 所有”，即若某接口既属于某指定模块下，又可匹配某指定路径时，该接口将优先使用设置了指定路径的域名。

##### c3）已添加的域名可在域名列表中双击修改，再更新域名配置即可。

d）配置全局变量（可选）

单击“全局变量”页签，选择“新增变量”即可设置全局变量，全局变量分为常量和函数两种类型。

![2-3](https://www.feisuanyz.com/fstest/xmgl/huanjingpeizhi/huanjing_3.png)

##### 图2-3 配置全局变量

##### 说明：若在环境配置下配置了全局变量，则在任何一处（如测试场景、性能测试等）选择了该环境配置后即可使用该全局变量。

e）证书配置（可选）

单击“证书配置”页签，选择“上传文件”，输入证书密码，上传证书文件后单击“确定”即可。

![2-4](https://www.feisuanyz.com/fstest/xmgl/huanjingpeizhi/huanjing_4.png)

##### 图2-4 选择“上传文件”

![2-5](https://www.feisuanyz.com/fstest/xmgl/huanjingpeizhi/huanjing_5.png)

##### 图2-5 上传证书文件

##### 说明：

##### e1）证书配置便于用户执行双向认证的https协议接口，若不需要执行双向认证的https协议接口，也可以不用进行证书配置，系统将默认执行单向认证的https协议接口。

##### e2）目前只支持p12、jks、pfx格式的证书文件。

##### e3）一个证书可能存在多个条目，若未勾选“是否默认”选项，系统将默认使用第一条证书条目。

f）TCP配置（可选）

单击“TCP配置”页签，填写TCP配置的相关信息，若不清楚如何填写，可将鼠标移至？图标或参考JMeter TCP组件字段含义进行填写。

![2-6](https://www.feisuanyz.com/fstest/xmgl/huanjingpeizhi/huanjing_6.png)

##### 图2-6 TCP配置

##### TCP配置用于配置TCP请求，若在环境配置中进行了TCP配置，则在测试场景中创建自定义请求（请求类型选择为TCP且未填写相关信息）时，系统将默认使用环境配置中的值。

g）保存环境配置

所有环境配置信息填写完成后，单击“保存环境配置”即可。
