### 5. 性能测试

#### 5.1 执行性能测试

##### 5.1.3 创建性能测试

本节为您介绍如何创建性能测试。

##### 5.1.3.1 前提条件

a）可用的环境配置，若没有，可参见文档[《SoFlu全自动测试平台教程第2.2.2节：新增环境配置》](https://gitee.com/feisuanyz/SoFlu-adp/blob/master/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/2.%20%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/2.%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2.%20%E6%96%B0%E5%A2%9E%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.md)进行创建。


b）可用的资源池，若没有，可参见文档[《SoFlu全自动测试平台教程第1.1节：资源池配置》](https://gitee.com/feisuanyz/SoFlu-adp/tree/master/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/1.%20%E8%B5%84%E6%BA%90%E6%B1%A0%E9%85%8D%E7%BD%AE)进行创建。

c）已绑定测试场景的测试用例，若没有，可参见文档[《SoFlu全自动测试平台教程第3.1.2.2节：新增测试用例》](https://gitee.com/feisuanyz/SoFlu-adp/blob/master/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/3.%20%E6%B5%8B%E8%AF%95%E8%BF%BD%E8%B8%AA/1.%20%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/2.%20%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/2.%20%E6%96%B0%E5%A2%9E%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B.md)以及[《SoFlu全自动测试平台教程第4.3.3节：新增测试场景》](https://gitee.com/feisuanyz/SoFlu-adp/blob/master/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/4.%20%E6%B5%8B%E8%AF%95%E5%9C%BA%E6%99%AF/3.%20%E6%B5%8B%E8%AF%95%E5%9C%BA%E6%99%AF%E7%AE%A1%E7%90%86/2.%20%E6%96%B0%E5%BB%BA%E6%B5%8B%E8%AF%95%E5%9C%BA%E6%99%AF.md)进行创建。

##### 5.1.3.2 操作步骤

a）进入全自动测试平台，单击页面上方“性能测试”，开始创建性能测试。

![2-1](https://www.feisuanyz.com/fstest/xncs/createxncs/3_1.png)

##### 图2-1 创建性能测试

b）填写性能测试的名称及备注信息，为性能测试分配环境和资源池。

c）设置超时时间。

##### 超时时间用于执行性能测试后，若在设置的超时时间内，性能测试还未执行完成，则该性能测试就会因超时而执行失败；若没有设置超时时间，则性能测试会一直保持在执行中的状态。

d）单击“生成Cron”设置定时任务，可通过性能测试操作列“更多”选项开启或关闭定时任务。

##### 注意：进行超时和定时任务设置时，系统会检验AccessKey是否填写，若未填写，用户需使用主账号在系统设置中配置好AccessKey后再进行相关操作，关于如何配置AccessKey可参见文档[《SoFlu全自动测试平台教程第1.4.2节：配置AccessKey》](https://gitee.com/feisuanyz/SoFlu-adp/blob/master/SoFlu%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/4.%20%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0/2.%20%E9%85%8D%E7%BD%AEAccessKey.md)。

![2-2](https://www.feisuanyz.com/fstest/xncs/createxncs/3_3.png)

##### 图2-2 设置定时任务

e）导入测试用例（绑定测试场景的测试用例才可在创建性能测试时进行选择导入）。

f）设置并发用户数。

![2-3](https://www.feisuanyz.com/fstest/xncs/createxncs/3_2.png)

##### 图2-3 设置并发用户数

g）设置并发测试方式：按循环次数或按持续时间。

##### 其中按循环次数表示循环测试用例多少次，按持续时间表示进行多久时长的测试。

h）设置并发分配策略：分为自动分配、固定节点和自定义三种。

##### 自动分配：系统自动将并发用户数均匀分配给资源池下的所有资源。
