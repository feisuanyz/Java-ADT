### 5. 性能测试

#### 5.3 本地模式
 
##### 5.3.1 部署本地模式

全自动测试平台性能测试支持本地模式，即无需资源池中的资源，便可本地执行性能测试，并在全自动测试平台中查看性能测试报告。

##### 5.3.1.1 操作步骤

a）进入全自动测试平台，单击右上角“工具下载”选项，如图1-1所示：

![1-1](https://www.feisuanyz.com/fstest/xncs/localmode/bendimoshi_1.png)

##### 图1-1 单击“工具下载”

b）进入工具下载页面，单击下载JMeter部署包和本地性能测试包，如图1-2所示：

![1-2](https://www.feisuanyz.com/fstest/xncs/localmode/bendimoshi_2.png)

##### 图1-2 工具下载页面

c）将JMeter部署包和本地性能测试包解压到本地（即Linux或者Unix操作系统下）。

d）进入全自动测试平台“性能测试”功能模块，选择需本地执行的性能测试，单击“更多”选项，选择下载JMX，如图1-3所示：

![1-3](https://www.feisuanyz.com/fstest/xncs/localmode/bendimoshi_3.png)

##### 图1-3 下载JMX

e）将JMX文件解压到本地（即Linux或者Unix操作系统下）。

f）在本地（即Linux或者Unix操作系统下）输入如下命令，执行性能测试：

##### 注意：启动命令时，需要有访问平台的网络权限。

```
java -jar –javaagent: /usr/local/feisuanyz-local-performance/sjt_agent.jar
本地性能测试包路径 全自动测试平台登录账号 全自动测试平台登录密码 JMX文件路径 JMeter部署包路径
```

##### 示例如下：

```
java -jar -javaagent:/usr/local/feisuanyz-local-performance/sjt_agent.jar 
/usr/local/feisuanyz-local-performance/feisuanyz-local-performance.jar 
lijind@feisuan a123456 /usr/local/61828801b3b46200064efc2f.jmx 
/usr/local/apache-jmeter-5.4.1
```

g）若出现如图1-4所示信息显示，则说明性能测试执行成功。

![1-4](https://www.feisuanyz.com/fstest/xncs/localmode/bendimoshi_5.png)

##### 图1-4 执行成功
