### 4. 测试场景组件介绍

#### 4.2 后置处理器

##### 4.2.3 正则提取器

正则提取器是位于后置处理器中的一个元件，它的作用是在请求发出并得到响应后，把响应信息中的部分通过正则表达式提取所需值，将结果存储到给定的变量名中。

##### 4.2.3.1 操作步骤

a）进入全自动测试平台的测试场景页面，选择已有测试场景的测试用例，单击接口，然后单击＋号按钮 > 后置处理器。

![image](https://user-images.githubusercontent.com/79617492/192221587-9ff455a5-8b55-4adc-8dcf-1ba6d31de855.png)

##### 图3-1 单击 + > 后置处理器

b）选择“正则提取器”后，填写正确的基本信息，然后单击执行。

![image](https://user-images.githubusercontent.com/79617492/192221606-cd55cb74-212f-4c3e-9319-1762fe9dfa1f.png)

##### 图3-2 填写正确的基本信息

```
说明：

b1）注释： 填写备注等相关信息，可以为空。

b2）变量名称： 接收提取值的变量名，可以自定义设置。

b3）正则表达式： 通过填写的正则表达式去提取响应结果中对应的值。

b4）匹配数量： 正则表达式匹配数据的结果可以看做一个数组，该字段表示如何取值：0代表随机取值，正数n则表示取第n个值，负数则表示提取所有符合条件的值。

b5）模板： 如果在正则表达式字段中，写了多个正则表达式，则可以时$2 $、$3 $等，表示提取到的第几个值给变量名称；如：$1 $表示匹配到的第1个值赋给变变量名称。

b6）要检查的响应字段：

b6-1）主体：响应的报文。

b6-2）主体(unescaped)：替换了所有的html转义符的响应主体内容。

b6-3）主体(文本)：从不同类型的文件中提取的文本。

b6-4）信息头：接口响应的头部信息。

b6-5）请求头：接口请求信息头。

b6-6）URL：接口的请求url。

b6-7）响应代码：接口响应的状态码，如：200、400等。

b6-8）响应信息：响应正文。

b7）默认值： 如果正则表达式没有匹配到值，则会取默认值赋值给变量。
```

c）执行完成后，查看执行报告中提取的信息。

![image](https://user-images.githubusercontent.com/79617492/192221641-7c83d3c4-8f62-4401-b006-fc040410eadb.png)

##### 图3-3 查看执行报告中提取的信息
