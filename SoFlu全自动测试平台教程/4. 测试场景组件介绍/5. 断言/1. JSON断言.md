### 4. 测试场景组件介绍

#### 4.5 断言

##### 4.5.1 JSON断言

JSON断言是通过对返回的JSON数据中的元素值进行比较，来判断元素值是否和预期值一致，一致则断言成功。

##### 4.5.1.1 操作步骤

a）进入全自动测试平台的测试场景页面，选择已有测试场景的测试用例，单击接口，然后单击"＋" 再单击断言。

![image](https://user-images.githubusercontent.com/79617492/192465825-620230b1-25c6-40c8-865a-81f8652f0e15.png)

##### 图1-1 单击断言

b）选择“JSON断言”，填写正确的JSON元素路径和预期值，然后单击执行。

![image](https://user-images.githubusercontent.com/79617492/192465838-313fc6cf-088e-466e-a095-48de9b7c1e7d.png)

##### 图1-2 填写相关参数

##### 操作说明：获取响应结果中的msg字段值，如果等于“调用成功！”则断言成功，否则断言失败。

```
字段说明：

b1）注释：填写相关备注信息，可以为空。

b2）断言的JSON元素的路径：按照路径判断json是否存在某一个元素。比如返回的JSON格式：{"a":1,"b":{"c":3},"d":4}，获取c的值路径为：$.a.b.c，需一层层按照路径来找元素。

b3）是否额外验证根据JSONPath提取的值：需要验证某个路径的值时进行勾选，预期值输入框可以输入，然后验证JSON某个路径的值是否与预期值相等，不相等，断言失败。不需要验证值时，不用勾选，预期值输入框不允许输入

b4）预期值是否可以使用正则表达式：勾选的话，比较预期值就会用正则表达式的语法去比较。所以预期值需要使用正则表达式的语法进行录入。

b5）预期值：预期中的JSON元素路径对应的值。

b6）预期值是否为null：验证预期值是否为空。

b7）断言结果是否取反：勾选后，当预期值为True时，断言失败；预期值为False时，断言成功。

```

c）执行成功，查看执行报告断言结果。

![image](https://user-images.githubusercontent.com/79617492/192465868-0474bcb5-ecc2-4148-81a9-ef74eee7974b.png)

##### 图1-3 查看执行报告断言结果
