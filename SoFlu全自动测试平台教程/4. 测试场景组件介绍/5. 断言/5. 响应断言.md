### 4. 测试场景组件介绍

#### 4.5 断言

##### 4.5.5 响应断言

断言组件用来对服务器的响应数据做验证，可以用来判断系统返回的响应结果是否正确，以此判断当前测试场景接口是否通过。响应断言是通过对返回消息中的内容进行比较，来判断响应的结果是否和预期结果一致。

##### 4.5.5.1 操作步骤

a）进入全自动测试平台的测试场景页面，选择已有测试场景的测试用例，单击接口，然后单击"＋" 再单击断言。

![image](https://user-images.githubusercontent.com/79617492/192469887-4b575790-9548-4736-8dc6-1afaa19e33c2.png)

##### 图5-1 单击"＋" 再单击断言

b）选择响应断言和需要断言的字段，以及匹配规则，然后单击新增。

![image](https://user-images.githubusercontent.com/79617492/192469900-d1dcb4cd-3abe-4056-a9dd-3d7f315941b5.png)

##### 图5-2 选择断言相关信息

```
说明：

b1）测试字段： 需要断言的内容（从什么地方拿数据进行断言）。

b1-1）请求链接：接口请求的URL。

b1-2）请求头：接口的请求头信息。

b1-3）响应头：接口的响应头信息。

b1-4）请求体：接口的请求体信息。

b1-5）响应体：接口请求后返回的数据。

b1-6）响应码：接口请求后返回的状态码。

b1-7）响应消息：服务器响应给客户端的消息内容，即响应报文。

b2）匹配规则： 断言内容的校验规则（不同的匹配规则，校验不同）。

b2-1）包括：如果在测试字段选择的类型中包含了指定的字符串，则断言成功，支持正则表达式匹配。

b2-2）匹配：如果在测试字段选择的类型中完全匹配指定的字符串，则断言成功，支持正则表达式相等。

b2-3）相等：如果在测试字段选择的类型中与指定的字符串匹配完全相等，则断言成功，不支持正则表达式子字符串。

b2-4）字符串：如果在测试字段选择的类型中包含了指定的字符串，则断言成功，不支持正则表达式。

b2-5）否：如果在测试字段选择的类型中不满足指定字符串，则断言成功。

b2-6）或者：当有多个匹配内容时，满足其中一个或多个，则断言成功。

执行接口时，就会通过测试字段选择的类型和匹配规则，将响应结果里的内容跟设置的断言内容进行比较，符合则断言成功，否则断言失败。
```

c）填写断言的内容（预期结果），单击执行。

![image](https://user-images.githubusercontent.com/79617492/192469924-1b9cd8ba-b440-480b-9e6d-9384c8fb97e3.png)

##### 图5-3 填写断言的内容（预期结果）

d）执行成功，查看执行报告断言结果，断言成功为true。

![image](https://user-images.githubusercontent.com/79617492/192469948-f85a996b-4a1c-420e-8880-e5a777cd19d6.png)

##### 图5-4 查看执行报告断言结果
