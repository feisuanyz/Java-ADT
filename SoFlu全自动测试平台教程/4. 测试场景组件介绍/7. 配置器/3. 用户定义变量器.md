### 4. 测试场景组件介绍

#### 4.7 配置器

##### 4.7.3 用户定义变量器

用户可以在用户定义变量器中自定义变量，可在测试场景中通过${变量名}引用该变量，获取该变量的值。本节主要介绍如何使用用户定义变量器。

##### 4.7.3.1 操作步骤

a）进入全自动测试平台的测试场景页面，选择已有测试场景的测试用例，选择接口，单击右侧的“+”键，单击配置器。

![image](https://user-images.githubusercontent.com/79617492/194693477-f115813e-791e-418d-8417-2c68b1d815db.png)

##### 图3-1 单击配置器

b）选择配置器，下拉框选择“用户定义变量器”。

![image](https://user-images.githubusercontent.com/79617492/194693484-ae427ebc-2d0e-40be-b2f9-75c5ebb9e548.png)

##### 图3-2 选择“用户定义变量器”

c）单击新增变量，填写变量名name，选择变量类型为“常量”，输入变量值。

![image](https://user-images.githubusercontent.com/79617492/194693488-58802dc4-9998-400b-a0e2-384a89ef5226.png)

##### 图3-3 填写变量相关参数

##### 说明：变量类型支持常量、变量集、JMeter函数、Excel文件、SQL管理和Mock函数的，当前用“常量”举例，其它同理。

d）在接口需要引用变量的地方使用“${变量名}”来引用变量。

![image](https://user-images.githubusercontent.com/79617492/194693494-4cc4c811-5f92-48f4-b8c6-f77c402757ee.png)

##### 图3-4 使用“${变量名}”来引用变量

e）单击上方的执行。

![image](https://user-images.githubusercontent.com/79617492/194693500-cc5f1194-58b5-48a0-99ff-7278067adfd0.png)

##### 图3-5 单击上方的执行

f）查看执行报告，字段值获取到变量中的值。

![image](https://user-images.githubusercontent.com/79617492/194693508-9f841ff0-a992-486a-a917-6f4a43833fd0.png)

##### 图3-6 查看执行报告

##### 说明：若用户定义变量器在根测试场景下添加，则根测试场景组下的接口都可以引用该变量；若用户定义变量器在子场景组下添加，则只有该子场景组下的接口可以引用该变量，其他场景组的接口不可用；若在对应的接口下添加，则仅限当前接口可用。
