### 2. 快速入门

#### 2.5 页面开发

页面交互是实现页面的关键，用户可以根据需求来进行页面的开发。先根据需求完成静态的HTML页面，然后通过绑定动作来和后端的接口进行数据交互，交互的数据可通过自定义变量来进行存储。绑定动作时还可以通过数据处理，提取接口响应的某个字段值赋值给新的变量。最后就是预览页面，检验页面最终在浏览器或者手机上实际交互的效果。

本节分为页面开发、绑定动作、变量设置、响应数据处理和页面预览五部分内容来简单为您介绍如何快速进行页面开发。

其它更多详细的内容可参考应用使用指南和控件使用指南章节。

#### 2.5.1 步骤概述

a）页面开发

b）变量设置

c）绑定动作

d）响应数据处理

e）页面预览

#### 2.5.1.1 页面开发

a）双击对应页面卡片，进入编辑页面。

![image](https://user-images.githubusercontent.com/79617492/212252560-079e8928-10af-44b8-a270-5b66fc07ce19.png)

##### 图5-1 进入编辑页面

b）根据需求，从左侧控件库中拖拽控件至中间展示面板，并在右侧属性栏中自定义设置该控件的属性。

```
说明：

b1）此处使用按钮控件进行演示，其它控件同理。如需先布局页面，可拖拽出布局类型的控件，比如容器、布局容器等控件进行页面布局，布局完成后再根据需求拖拽其它控件在相应的布局位置。

b2）根据控件的属性自定义控件显示的内容和格式，如对属性中某个字段不清楚有什么效果，可单击上面文档查看。

b3）每一个控件的具体用法请参考控件使用指南章节内容。
```

![image](https://user-images.githubusercontent.com/79617492/212252581-58c70828-7bbc-4d03-92da-d96cfd4992ed.png)

##### 图5-2 设置控件的属性

c）将属性栏切换到“样式”页，自定义设置控件的样式。

![image](https://user-images.githubusercontent.com/79617492/212252598-148e912c-e964-41c0-87f2-ad3eca5cf96c.png)

##### 图5-3 自定义设置控件的样式

#### 2.5.1.2 变量设置

a）在“页面编辑”页，单击变量设置。

![image](https://user-images.githubusercontent.com/79617492/212252611-a3ba95fd-bbda-4066-bff0-aabfed6ed9d5.png)

##### 图5-4 单击变量设置

b）选择需要新建变量的类型，单击“新建页面变量”，然后正确填写变量名称、值，以及描述，单击确定。

##### 说明：变量的值类型为字符串，暂时不支持自定义字段类型。

![image](https://user-images.githubusercontent.com/79617492/212252626-f955f808-855c-49a2-9176-3677bc935b99.png)

##### 图5-5 设置页面变量信息

c）在右侧的属性中，单击变量绑定图标。

![image](https://user-images.githubusercontent.com/79617492/212252657-485edd6d-6137-4425-96fa-fe1ea891d224.png)

##### 图5-6 单击变量绑定图标

d）在“变量绑定”页面，单击页面变量，选择需要绑定的变量，然后单击确定。

##### 说明：绑定变量后，原属性设置的值就不生效了，变量的优先级更高。

![image](https://user-images.githubusercontent.com/79617492/212252670-a89967b3-dd97-43ec-a4a0-5a832bec19f6.png)

##### 图5-7 选择需要绑定的变量

#### 2.5.1.3 绑定动作

a）在属性栏的“属性”页，上滑至属性的最下方，单击绑定动作 > 当点击时。

![image](https://user-images.githubusercontent.com/79617492/212252681-693b0cbc-fe10-4d6b-be51-238df77f51a1.png)

##### 图5-8 选择当点击时

b）选择绑定内置动作或请求接口，配置完成后单击确定。

```
说明：

b1）绑定的接口来源具体请参考《SoFlu（前端）全自动开发平台教程第2.4节：关联后端接口》。

b2）绑定请求接口时，要根据接口文档添加对应的请求参数，也可以自定义设置接口响应完成后的数据处理。

b3）绑定动作更多详细的使用说明请参考应用使用指南 > 页面管理 > 属性栏_绑定动作章节。
```

![image](https://user-images.githubusercontent.com/79617492/212252703-83540d57-60ad-48d3-a7c1-501e21197cec.png)

##### 图5-9 选择绑定内置动作或请求接口

#### 2.5.1.4 响应数据处理

a）在“绑定动作”页面，配置好接口后，单击新增处理动作。

```
说明：

a1）处理动作：是指接口请求成功或者请求失败时，要执行的操作，可以设置将接口响应结果中某个字段的值赋值给其它变量。

a2）响应成功处理：是指请求的接口HTTP状态码为200时，执行这个处理动作。

a3）响应失败处理：是指请求的接口HTTP状态码非200时，执行这个处理动作。这个动作的判断条件只能输入HTTP非200的状态码，如500,503等才会生效。

a4）响应成功处理和响应失败处理可以同时设置，程序会自动根据HTTP的状态码来执行对应的数据处理。
```

![image](https://user-images.githubusercontent.com/79617492/212252721-5fe20c31-d059-41a1-a9fc-5a76ffd8e153.png)

##### 图5-10 单击新增处理动作

b）在“新增处理动作”页面，填写判断条件后，选择需要执行的动作并配置完成后，单击确定。

##### 说明：响应字段是指这个接口请求成功后在响应信息中会显示的字段，如code=“000000”，msg=“成功”等字段和值。只有判断条件成功才会执行动作，失败则不做处理。

![image](https://user-images.githubusercontent.com/79617492/212252744-5d63d169-aec3-4d4a-b962-158543ab6709.png)

##### 图5-11 新增处理动作

#### 2.5.1.5 页面预览

a）单击预览，加载完成后，浏览器会自动打开该页面。

##### 说明：若您的电脑未安装对应的Node版本，系统会弹出相应的提示，单击“去下载”下载安装后重试即可。更多Node相关的信息请参考《SoFlu（前端）全自动开发平台教程第2.1节：配置环境》。

![image](https://user-images.githubusercontent.com/79617492/212252762-1910990d-b5ed-4020-af88-d616cf16dc2d.png)

##### 图5-12 单击预览

b）在浏览器预览页面，单击按钮，就会触发绑定的动作。

![image](https://user-images.githubusercontent.com/79617492/212252782-26751ee7-16bb-45e7-82f9-91618d110ccd.png)

##### 图5-13 触发绑定的动作
