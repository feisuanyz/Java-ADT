### 4. 控件使用指南

#### 4.1 基础控件

#### 4.1.6 视频

用于页面中播放视频的播放器控件，还可以通过绑定动作来获取视频从第几秒开始播放、暂停、结束的时间。

#### 4.1.6.1 基本属性

a）组件描述：用于设置组件的描述，字符数限制在200字符以内。

![image](https://user-images.githubusercontent.com/79617492/218694086-39d4da9d-293c-486d-b31e-0abb4d21c6f5.png)

##### 图6-1 组件描述

b）视频地址：以http协议开头的地址，如https://pagev.feisuanyz.com/resources/video/demo.mp4 。

![image](https://user-images.githubusercontent.com/79617492/218694111-3b546078-5f0b-45a3-984b-fd7028b58578.png)

##### 图6-2 视频地址

c）标题：用于设置视频标题，字符数限制在20字符以内。

![image](https://user-images.githubusercontent.com/79617492/218694134-b2442030-a92c-4d30-bf26-ec0617a400ea.png)

##### 图6-3 标题

d）封面：用于视频播放前展示的图片。

![image](https://user-images.githubusercontent.com/79617492/218694163-b2f43251-a6ea-4f7e-a0e9-57b6983979d2.png)

##### 图6-4 封面

e）宽auto：开启后视频自适应宽度。

![image](https://user-images.githubusercontent.com/79617492/218697144-44d36957-aa2b-4949-bf97-d7f6f9ec5aa8.png)

##### 图6-5 宽auto

f）宽：设置视频宽度，可设置“%”、“px”结尾或纯数字。

![image](https://user-images.githubusercontent.com/79617492/218697336-ceebdcda-2f56-4e53-bc5e-31b00a1da0c1.png)

##### 图6-6 宽

g）宽高比：设置视频的宽高比，默认为16:9，建议与视频本身保持一致，否则会出现黑边。

![image](https://user-images.githubusercontent.com/79617492/218697358-5399f3e2-e92a-4d3e-9431-350d87cfce3f.png)

##### 图6-7 宽高比

h）控制条：开启后视频播放时下方会出现控制条，用于调整视频进度、音量等。

![image](https://user-images.githubusercontent.com/79617492/218697389-4fd2300a-895c-4eef-81be-6a5e7302a7e2.png)

##### 图6-8 控制条

i）自动播放：开启后加载页面时视频自动播放。

![image](https://user-images.githubusercontent.com/79617492/218697412-438e77d2-f154-43c7-badb-8f15bd72a9ec.png)

##### 图6-9 自动播放

j）循环播放：开启后，视频播放完毕后自动从头开始播放。

![image](https://user-images.githubusercontent.com/79617492/218697449-c9b12341-a09d-4fa3-9ef7-4b7562fb9bf5.png)

##### 图6-10 循环播放

k）禁止播放：开启后视频无法播放。

![image](https://user-images.githubusercontent.com/79617492/218697481-826a2b4e-edb2-4d67-82b2-c68609649d22.png)

##### 图6-11 禁止播放

l）动作面板：支持绑定控件获取开始/暂停/结束播放时间的动作，当符合动作条件时会触发相应的动作。绑定动作更加详情内容请参考《SoFlu（前端）全自动开发平台教程第3.3.16至3.3.20节》绑定动作的章节。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/1.%20%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/6-12.png)

##### 图6-12 动作面板

#### 4.1.6.2 案例演示

案例介绍如何通过绑定动作动态获取视频开始、结束、暂停播放时间，一般用于记录视频什么时候开始、结束、暂停的时间。

#### 4.1.6.2.1 动态获取视频开始、结束、暂停播放时间

a）单击页面上方“变量设置 > 页面变量”，设置变量“a”，用于接收视频播放时间的值。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/1.%20%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/6-13.png)

##### 图6-13 设置变量“a”

b）在“左侧控件库”拖入一个视频控件，一个输入框控件，配置基本信息。

##### 说明：输入框控件不是必须动作，只用于展示获取的视频播放结束的时间。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/1.%20%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/6-14.png)

##### 图6-14 配置基本信息

c）选中视频控件，单击右侧属性栏 > 绑定动作，选择获取结束播放时间。

##### 说明：视频控件支持获取开始、暂停、结束播放时间，可根据实际情况选择绑定的动作，此处以获取结束播放时间为例，其它两个动作同理。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/1.%20%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/6-15.png)

##### 图6-15 选择获取结束播放时间

d）单击内置动作 > 数据处理，左边选择要接收数据的变量“a”，右边选择该视频控件，配置完成后单击确定。

##### 说明：需要通过变量赋值的方式来获取到视频动作的时间。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/1.%20%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/6-16.png)

##### 图6-16 单击数据处理

e）选中输入框控件，在右侧属性栏 > 默认值旁单击变量绑定按钮。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/1.%20%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/6-17.png)

##### 图6-17 单击变量绑定按钮

f）在“变量绑定”页面，单击页面变量 > a > 确定。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/1.%20%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/6-18.png)

##### 图6-18 单击页面变量

g）单击预览，在浏览器页面单击播放开关播放视频，视频播放结束后，会在输入框显示视频是从第几秒结束的。

##### 注意：当视频控件开启了自动播放或循环播放时，无法获取从第几秒开始播放的时间以及结束播放的时间。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/1.%20%E5%9F%BA%E7%A1%80%E6%8E%A7%E4%BB%B6/6-19.png)

##### 图6-19 单击预览
