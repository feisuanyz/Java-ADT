### 4. 控件使用指南

#### 4.4 布局控件

#### 4.4.5 导航布局

导航布局可协助进行页面级的整体布局，支持配置页面顶部导航和侧边导航。控件自带一个嵌套页面，可在页面设置中将其设置为父级页面，其他页面也可选择当前页面作为父级页面。

#### 4.4.5.1 基本属性

a）标题：可设置导航栏标题，字符数限制2-36个字符。

![image](https://user-images.githubusercontent.com/79617492/219604491-c3ff8abd-5596-44e7-9cf7-55b7ef066253.png)

##### 图5-1 标题

b）主题：支持明亮和暗黑两种模式切换。

![image](https://user-images.githubusercontent.com/79617492/219604526-bbcdfcfe-e688-481c-9914-1ff2f185bcb8.png)

##### 图5-2 主题

c）基本结构：支持设置横向导航栏和纵向导航栏，纵向导航栏支持列表展开和收起。

![image](https://user-images.githubusercontent.com/79617492/219604560-05f299cd-3a97-4270-9949-897e92b80d22.png)

##### 图5-3 基本结构

d）展示导航栏：开启后显示首页及当前页面的页面路径，可单击首页实现首页快捷跳转。

![image](https://user-images.githubusercontent.com/79617492/219604615-b0914ed1-06a7-438e-b23e-51fec479b54a.png)

##### 图5-4 展示导航栏

e）支持多页签：当多个页面将当前导航页面设置为父级页面时，单击进入新页签会在当前导航页面跳转并在导航栏下方生成可关闭的页面页签。详情见 “案例 1”。

![image](https://user-images.githubusercontent.com/79617492/219604859-92d9c0ac-6fff-4869-bc64-ddfd8f9f7eeb.png)

##### 图5-5 支持多页签

f）logo: 可上传网络图片，也可手动拖拽本地图片上传展示。

![image](https://user-images.githubusercontent.com/79617492/219604893-cc6781a6-14c5-4994-a218-bbd2f7f4b58f.png)

##### 图5-6 logo

g）切换销毁：默认关闭。开启后，当单击切换页签时，不会对上一页签的内容进行保留，每次切换都会重新加载页面。

![image](https://user-images.githubusercontent.com/79617492/219604936-8b73869a-e8ac-4e86-82a4-309188b83bbe.png)

##### 图5-7 切换销毁

h）顶部数据列：支持编辑代码设置导航栏的title、name、icon；支持编辑代码配置数据映射以及导航菜单栏的显示位置。

![image](https://user-images.githubusercontent.com/79617492/219604978-1fd698e7-fb6c-4001-88fa-9f1d4a825249.png)

##### 图5-8 顶部数据列

#### 4.4.5.2 操作案例

操作案例将介绍导航布局中常用的设置。

#### 4.4.5.2.1 单击导航栏跳转页面

a）新建一个“首页”页面，拖入导航栏控件到中间画布。单击右侧属性栏页面配置 > 设置为父级页面。

![image](https://user-images.githubusercontent.com/79617492/219605020-06cad625-fe2d-4a0c-a8ac-898d6d17ae8c.png)

##### 图5-9 单击设置为父级页面

b）新建一个子级页面，自定义页面内容，单击右侧属性栏页面配置，选择父级页面为“首页”页面，并开启在父级页面默认显示。

![image](https://user-images.githubusercontent.com/79617492/219605045-d3369c7f-d18a-47ce-b0c9-435b7faa5828.png)

##### 图5-10 单击右侧属性栏页面配置

c）回到“首页”页面，在右侧“属性 > 顶部数据列”，单击编辑代码。

![image](https://user-images.githubusercontent.com/79617492/219605075-a9c683f1-fef6-484a-a3f9-464f2ed736a7.png)

##### 图5-11 单击编辑代码

d）在“代码编辑”页面，编辑菜单栏属性，编辑完成后，单击保存，如图5-12。

```
说明：

title：导航菜单标题

name：页面路径名称，点击菜单跳转的页面，页面路径可在页面配置中查看复制，如图5-13。

icon：菜单图标
```

![image](https://user-images.githubusercontent.com/79617492/219605172-5e652484-26ec-4c9a-9427-d184148d258a.png)

##### 图5-12 代码编辑页

![image](https://user-images.githubusercontent.com/79617492/219605202-290e6a52-e770-499a-9543-a8a4de2773b2.png)

##### 图5-13 查看页面路径

e）单击数据映射中的编辑代码，编辑对应字段的数据映射代码，编辑完成后单击保存。

```
说明：数据映射是一种将数据源中的字段与数据仓库或其他存储库中的目标字段进行匹配的机制。如数据源中的字段名称和数据映射中定义不一致，则在数据映射中将右边的字段名修改成和数据源中的一致即可。
```

![image](https://user-images.githubusercontent.com/79617492/219605230-0511a5d7-7ff1-4879-9900-6c6083a97af1.png)

##### 图5-14 单击数据映射中的编辑代码

![image](https://user-images.githubusercontent.com/79617492/219605260-5e7cbb59-89fa-4d99-b943-fa7ce1ae0c62.png)

##### 图5-15 编辑对应字段的数据映射代码

f）在右侧属性栏中，开启显示底部按钮。

![image](https://user-images.githubusercontent.com/79617492/219605288-5c668ca0-e774-40cc-b3c1-1fa308018a53.png)

##### 图5-16 开启显示底部按钮

g）根据需要在底部容器拖入需要的控件（此处以图片为例）。

```
说明：底部配置完成后在运行页面时，会跟头部导航栏作为父级页面的固定元素一同展示。
```

![image](https://user-images.githubusercontent.com/79617492/219605313-6af83909-3b9e-47c5-ba0a-d85cd1210268.png)

##### 图5-17 在底部容器拖入需要的控件

h）在右侧属性栏中，开启 支持多页签和切换销毁按钮，单击上方预览。

![image](https://user-images.githubusercontent.com/79617492/219605336-4e6e75e2-4c8c-4c9a-9742-321793f1ad7a.png)

##### 图5-18 单击上方预览

i）在“浏览器预览页面”，单击不同的导航栏菜单，下方会显示对应页面的内容。

```
说明：

i1）当开启切换销毁时，切换页面之后，会刷新当前页面。

i2）当开启多页签时，点击导航栏会开启页面页签，可直接在页签中切换页面或关闭页面。
```

![image](https://user-images.githubusercontent.com/79617492/219605367-f7a6b968-34b9-4fb7-b6e6-878ae512cb8b.png)

##### 图5-19 单击不同的导航栏菜单

#### 4.4.5.2.2 动态获取导航栏菜单

a）在左侧页面工具栏单击后端项目 > 新建后端项目，关联平台或第三方项目。

![image](https://user-images.githubusercontent.com/79617492/219605449-a5fafa44-7de0-4012-a2ce-956c7bcc4a4a.png)

##### 图5-20 单击新建后端项目

b）拖入“导航布局”控件，然后单击上方变量设置，新增一个全局变量“dh”，用于后续给导航栏菜单赋值。

![image](https://user-images.githubusercontent.com/79617492/219605464-001a052d-2b98-4f0d-88df-18e5261852ca.png)

##### 图5-21 新增一个全局变量“dh”

c）单击右侧属性栏顶部数据列旁的变量绑定按钮，选择全局变量 > dh。

![image](https://user-images.githubusercontent.com/79617492/219605485-772d4864-c1d1-4772-a37d-df42150959c7.png)

##### 图5-22 单击变量绑定按钮

![image](https://user-images.githubusercontent.com/79617492/219605505-0f41bf70-bd18-446c-8e32-b3a895651904.png)

##### 图5-23 选择全局变量 > dh

d）单击右侧属性栏页面配置 > 绑定动作 > 页面加载前事件。

![image](https://user-images.githubusercontent.com/79617492/219605558-3cf59a27-1c1b-44b5-a294-76c56833bae3.png)

##### 图5-24 单击页面加载前事件

e）在绑定动作页面，选择对应的项目和接口。单击响应成功处理的新增处理动作。

![image](https://user-images.githubusercontent.com/79617492/219605586-d2ae2c6c-5786-4993-bbab-0683a0bd271e.png)

##### 图5-25 单击响应成功处理的新增处理动作

f）在“新增处理动作页面”，填写响应成功的判断条件，执行动作选择 “数据处理”，左侧选择全局变量 “dh”，右侧选择响应数据字段名 “data”，配置完成后单击确定。如图5-26所示。

##### 说明：在页面加载之前，触发这个动作，将接口响应结果中的data数据，赋值给变量db，然后导航栏绑定了db变量，就会显示这个变量中的数据。此处接口的响应字段与数据如图5-27所示。

![image](https://user-images.githubusercontent.com/79617492/219605622-a409c90b-65cb-492d-ac3a-0eb2b4d48a37.png)

##### 图5-26 响应成功动作配置

![image](https://user-images.githubusercontent.com/79617492/219605651-14394dbf-7e05-4da7-a552-a13885480721.png)

##### 图5-27 接口响应内容

g）单击右侧属性栏属性 > 数据映射编辑代码，根据接口中的字段名配置对应的数据映射，配置完成后单击保存。

![image](https://user-images.githubusercontent.com/79617492/219605677-f6689b46-92df-4c07-9a07-9a1f76f7a9f4.png)

##### 图5-28 配置对应的数据映射

h）单击预览，在浏览器预览页面中查看动态导航栏菜单展示效果。

![image](https://user-images.githubusercontent.com/79617492/219605693-5434d065-ffd7-4038-973c-242d0853cc83.png)

##### 图5-29 单击预览
