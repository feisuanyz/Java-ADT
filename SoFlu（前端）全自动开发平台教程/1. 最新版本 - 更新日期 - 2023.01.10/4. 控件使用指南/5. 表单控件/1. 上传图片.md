### 4. 控件使用指南

#### 4.5 表单控件

#### 4.5.1 上传图片

用于移动端提供页面下拉刷新的操作。可以自定义下拉时的样式，以及当下拉时动作绑定。

#### 4.4.1.1 基本属性

a）组件描述：可输入对组件的描述，字符限制在200字符以内。

![image](https://user-images.githubusercontent.com/79617492/220576401-3df19ae9-212b-47e0-a50c-4b2220052800.png)

##### 图1-1 组件描述

b）标题：可设置单项选择的标题，默认显示在选择框上方。

![image](https://user-images.githubusercontent.com/79617492/220576444-d7e14ba0-1169-4b34-99f8-58af6abce99d.png)

##### 图1-2 标题

c）数据源：可预设上传的图片，数据格式为数组[“https:.×××.jpg”]

![image](https://user-images.githubusercontent.com/79617492/220576983-ce3f4221-afec-47d3-8ae6-6c1f955700aa.png)

##### 图1-3 数据源

d）是否禁用：开启后控件无法使用。

![image](https://user-images.githubusercontent.com/79617492/220577006-a2887154-c16a-4fcd-8dd0-e98947435bfc.png)

##### 图1-4 是否禁用

e）是否非空：开启后控件值不允许为空。

![image](https://user-images.githubusercontent.com/79617492/220577043-aa417ade-8219-477d-a980-8205bda1a16b.png)

##### 图1-5 是否非空

f）标题位置：提供上、左两种标题位置选择，默认为上。

![image](https://user-images.githubusercontent.com/79617492/220577268-6eba2a15-f0c0-42b6-a336-4025d2222e02.png)

##### 图1-6 标题位置

g）尺寸：提供大、中、小三种尺寸选择，默认为中。

![image](https://user-images.githubusercontent.com/79617492/220577298-c593bf5a-dfb4-48c6-be96-09c64aa84d9d.png)

##### 图1-7 尺寸

h）上传类型：提供三种上传类型，分别是按钮、卡片、拖拽，默认为按钮。

![image](https://user-images.githubusercontent.com/79617492/220577350-b7d93f4d-5037-4a28-b35c-0e3b60908866.png)

##### 图1-8 上传类型

i）文件类型：设置支持上传的文件类型，格式为“××/*” ，默认为图片和视频。

![image](https://user-images.githubusercontent.com/79617492/220577383-670449f4-0861-4db6-a855-e13b2643e0f5.png)

##### 图1-9 文件类型

j）按钮内容和类型：上传模式为按钮时，可设置按钮内的显示文本和按钮类型，提供三种按钮类型。

![image](https://user-images.githubusercontent.com/79617492/220577433-e2d60edf-1439-47a9-a034-2fe940c6df96.png)

##### 图1-10 按钮内容和类型

k）多选：开启后可上传多个图片并设置上传文件上限数和到达上线后隐藏按钮。

![image](https://user-images.githubusercontent.com/79617492/220577476-ddb7f555-bb76-4ee0-bdcb-0b5a3ef8f6c4.png)

##### 图1-11 多选

l）上传超时：可设置上传超时时间，单位为毫秒，当上传时间超过设定的时间时，提示上传超时。

![image](https://user-images.githubusercontent.com/79617492/220577517-7d86bb60-0e6b-49a8-b421-e4b1ac7c2be4.png)

##### 图1-12 上传超时

m）动作面板：支持绑定控件的上传接口、上传成功/失败、当添加/删除图片的动作，当符合条件时，会触发相应动作。详情见《SoFlu（前端）全自动开发平台教程第3.3.16节至第3.3.20节》绑定动作部分。


```
说明：

m1）上传接口：绑定后当上传文件时触发后端自定义上传文件的接口。

m2）上传成功/失败: 绑定后根据后端的上传接口执行情况触发对应动作。

m3）当添加/删除文件：绑定后当添加/删除文件时触发对应动作。
```

![image](https://user-images.githubusercontent.com/79617492/220577575-ab932c45-1dc2-402c-b9a8-d53b9aab126c.png)

##### 图1-13 动作面板

#### 4.4.1.2 操作案例

案例介绍如何上传图片并裁剪图片。

#### 4.4.1.2.1 上传图片

a）在“左侧控件库”拖入一个上传图片控件到右侧画布。

![image](https://user-images.githubusercontent.com/79617492/220577815-ab2ba9cc-eab0-471f-818e-441cb1e7cb66.png)

##### 图1-14 拖入一个上传图片控件

b）在右侧属性栏，单击绑定动作 > 上传接口。

![image](https://user-images.githubusercontent.com/79617492/220577838-afeb3564-a2fb-4651-96d8-f11726a766ad.png)

##### 图1-15 单击绑定动作 > 上传接口

c）在“绑定动作”页面，选择对应项目和接口，配置需要的参数，配置完成后，单击确定。

##### 说明：此处一般可选择绑定能将图片上传至服务器的接口。因为绑定了“上传接口”的动作，所以在上传图片时，会触发对应的响应动作。

![image](https://user-images.githubusercontent.com/79617492/220577873-06057583-ab26-4d2d-895e-f28a01ca9892.png)

##### 图1-16 配置需要的参数

d）配置完基础属性后单击预览，在“浏览器预览页面”，单击上传图片按钮，选择需要上传的图片，选择完成单击打开即可。

![image](https://user-images.githubusercontent.com/79617492/220577906-479ac0ff-a95f-4e9b-abbd-01f2d0cc0c4e.png)

##### 图1-17 选择需要上传的图片

上传完成效果：

![image](https://user-images.githubusercontent.com/79617492/220577929-a274f2d0-b2e1-4453-935b-dca22c4b833a.png)

##### 图1-18 上传完成效果

#### 4.4.1.2.2 上传时剪裁图片

a）在“左侧控件库”拖入一个上传图片控件到右侧画布。

![image](https://user-images.githubusercontent.com/79617492/220578151-27a38fd3-cb89-4e49-b05f-2c35a18bce60.png)

##### 图1-19 拖入一个上传图片控件

b）在“右侧属性栏”单击打开开启裁剪按钮。

![image](https://user-images.githubusercontent.com/79617492/220578178-4a86a368-b468-457a-9a8e-1d9a7554e6c4.png)

##### 图1-20 单击打开开启裁剪按钮

c）单击预览，在“浏览器预览页面”，单击上传图片按钮，选择需要上传的图片。此时弹出裁剪图片窗口，可根据需要裁剪图片尺寸，裁剪完成单击确认即可。

![image](https://user-images.githubusercontent.com/79617492/220578536-2ddc0442-2312-4cef-952c-43237c23012a.png)

##### 图1-21 裁剪图片尺寸

上传完成效果：

![image](https://user-images.githubusercontent.com/79617492/220578567-621c2a6a-9edf-448b-8934-be13d271df30.png)

##### 图1-22 上传完成效果
