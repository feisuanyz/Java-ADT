### 4. 控件使用指南

#### 4.5 表单控件

#### 4.5.14 时间控件

时间控件只支持手机端，主要用于手机端选择时间。可以设置时间格式和时间类型，和获取对应格式类型的时间。

#### 4.5.14.1 基本属性

a）组件描述：可输入对组件的描述，字符限制在200字符以内。

![image](https://user-images.githubusercontent.com/79617492/223052677-3f6a58ff-2e79-4a37-b2e6-9dc85aef0c17.png)

##### 图14-1 组件描述

b）是否展示：可控制控件是否展示，默认开启。

![image](https://user-images.githubusercontent.com/79617492/223053688-f73d00e0-308b-439a-b42c-c1248620564e.png)

##### 图14-2 是否展示

c）是否只读：开启后控件为只读状态。

![image](https://user-images.githubusercontent.com/79617492/223053699-92ed7b3c-58ba-498a-9014-96ced48b5875.png)

##### 图14-3 是否只读

d）默认日期：可手动或绑定变量设置控件的默认日期。

![image](https://user-images.githubusercontent.com/79617492/223053713-c032b2b3-1367-4c0c-812c-ed17048eed9a.png)

##### 图14-4 默认日期

e）时间格式：可选择YYY-MMM-DD、YYYY/MM/DD、YYYY年MM月DD日三种时间格式。

![image](https://user-images.githubusercontent.com/79617492/223053749-ba2c2a3f-8c7b-4886-88dc-bacb1371f77a.png)

##### 图14-5 时间格式

f）时间类型：可选择date、year-month、month-day、time、datetime、datehour六种类型。

![image](https://user-images.githubusercontent.com/79617492/223053766-7000e4b3-6b63-49b8-9bf4-cf4c1e6f0baf.png)

##### 图14-6 时间类型

g）动作面板：支持绑定控件点击完成按钮时和点击取消按钮时的动作，当符合条件时，会触发相应动作。详情见《SoFlu（前端）全自动开发平台教程第3.3.16节至第3.3.20》绑定动作部分。

![image](https://user-images.githubusercontent.com/79617492/223054590-105f1268-aedb-4246-834d-d83a288ca740.png)

##### 图14-7 动作面板

#### 4.5.14.2 操作案例

案例介绍如何在输入框选择当前日期及时分。

#### 4.5.14.2.1 输入框选择当前日期及时分

a）切换到手机模式，从左侧控件库拖入一个时间控件，一个输入框控件，输入框控件用于展示时间控件的值。

![image](https://user-images.githubusercontent.com/79617492/223054607-29075fd3-4c55-4440-b8e4-5a79480ac4b3.png)

##### 图14-8 拖入所需控件

b）单击上方变量设置，新增一个 “time”页面变量、一个 “display”页面变量。

```
变量说明：

b1）time：用于存储时间控件的值

b2）display：用于控制时间控件是否显示
```

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-9.png)

##### 图14-9 新增变量

c）选中输入框控件，单击右侧属性栏默认值旁的变量绑定按钮，选择页面变量 > time。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-10.png)

##### 图14-10 选择页面变量 > time

d）选中时间控件，单击右侧属性栏是否显示旁的变量绑定按钮，选择页面变量 > display。

##### 说明：将变量绑定在是否显示后，变量值为true控件显示，值为false则控件不显示。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-11.png)

##### 图14-11 选择页面变量 > display

e）选中时间控件，配置基本设置，时间类型选择为 “datetime” 并且关闭是否展示按钮。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-12.png)

##### 图14-12 配置基本设置

f）单击动作面板下的绑定动作 > 点击完成按钮时。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-13.png)

##### 图14-13 单击点击完成按钮时

g）在动作绑定页面，单击内置动作 > 数据处理 > 新增数据处理，左侧绑定页面变量“time”，右边绑定时间的控件变量。

##### 说明：当选择完时间后，单击确定按钮，将时间控件的值赋值给输入框。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-14.png)

##### 图14-14 单击新增数据处理

h）再次单击新增数据处理，左侧绑定页面变量“display”，右边手动赋值为“false”。

##### 说明：单击时间控件的确定按钮后，时间控件隐藏。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-15.png)

##### 图14-15 单击新增数据处理

i）单击动作面板下的绑定动作 > 点击取消按钮时。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-16.png)

##### 图14-16 单击点击取消按钮时

j）在动作绑定页面，单击内置动作 > 数据处理 > 新增数据处理，左侧绑定页面变量“display”，右边手动赋值为“false”。

##### 说明：当点击时间控件取消按钮时，时间控件隐藏。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-17.png)

##### 图14-17 单击新增数据处理

k）选中输入框控件，配置基本属性，开启只读模式。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-18.png)

##### 图14-18 配置基本属性

l）单击右侧属性栏下方动作面板的绑定动作 > 当获取焦点时。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-19.png)

##### 图14-19 单击当获取焦点时

m）在绑定动作页面，单击内置动作 > 数据处理 > 新增数据处理，左侧绑定页面变量“display”，右侧手动赋值为“true”。

##### 说明：页面加载时日期控件是隐藏状态，当鼠标单击输入框使其获取焦点时，日期控件变为显示。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-20.png)

##### 图14-20 单击新增数据处理

n）单击预览，在预览页面体验输入框选择当前日期及时分效果。

##### 说明：当点击输入框时，出现时间控件，在控件中选择日期后单击确认，选择的日期显示在输入框内并且时间控件隐藏。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/14-21.png)

##### 图14-21 单击预览
