### 4. 控件使用指南

#### 4.5 表单控件

#### 4.5.17 输入框

可通过鼠标或键盘输入内容，提供常用的如手机、身份证、文字等校验规则，是最基础的表单域的包装。

#### 4.5.17.1 基本属性

a）组件描述：可输入对组件的描述，字符限制在200字符以内。

![image](https://user-images.githubusercontent.com/79617492/223662175-ef8c9521-5604-4e75-9d03-1635ad5f3367.png)

##### 图17-1 组件描述

b）可设置输入框的标题，置于输入框上方，字符限制在20字符以内。

![image](https://user-images.githubusercontent.com/79617492/223662195-6570741b-f928-46b1-a902-830977107ddf.png)

##### 图17-2 设置输入框的标题

c）是否只读：开启后无法输入内容，默认关闭。

![image](https://user-images.githubusercontent.com/79617492/223662224-f15a1d9f-382e-405c-b710-17350fb02a7c.png)

##### 图17-3 是否只读

d）是否禁用：开启后控件无法使用，默认关闭。

![image](https://user-images.githubusercontent.com/79617492/223662248-b99c662c-290e-40c6-99b7-bb07133d4004.png)

##### 图17-4 是否禁用

e）是否非空：开启后，输入框为必填项，当输入框为空时，弹出提示。

![image](https://user-images.githubusercontent.com/79617492/223662270-2af4c40f-1d2f-4f97-8b22-4c47dc6daf8f.png)

##### 图17-5 是否非空

f）前/后缀图标：可在图标库选择输入框前/后缀图标。

![image](https://user-images.githubusercontent.com/79617492/223662492-8e94971f-83e3-41ce-94e4-c02cbb67fcfc.png)

##### 图17-6 前/后缀图标

g）校验项配置：可配置输入框内容的校验规则，包括触发条件、校验正则、失败提示以及图标等。

```
说明：提供10中不同的正则校验方式，可根据实际需求选择，具体规则如下：

手机号：除了11位限制外，还增加了数字判断，支持13、14、15、18开头的号段，其中14开头号段后尾只能有5或7，18开头号段后尾不能有4。

URL：至少有一位英文字母（不分大小写），需拼接://再拼接不以空格开头的任意字符。

数字：0-9之间的任意数字

字母：常规英文字母，不区分字符大小写

校验纯汉字：必须为中文，且字符长度为0-50。

字母、数字、下划线：字母不区分大小写、数字可选择0-9之间的任意数字、下划线支持“_”。

Email：必须以字母或数字开头，后面可以拼接0至多个字母、数字、-、+、.中任意字符的组合，再拼接@，@后面可以拼接0至多个字母、数字、-、+、.中任意字符的组合。

身份证号（15位、18位数字）：身份证号码为15位或18位，为15位时必须全为数字，为18位时，前17位为数字最后一位可以为数字或者字符X。

日期：校验日期格式，如：2000-02-02格式，月份和日期可以由一个数字或者两个数字组成。

Ipv4地址：以数字开头，第一个数范围为0-255，从第二个数开始每个数前面加”.”，匹配三次0-255范围内任意的数字。
```

![image](https://user-images.githubusercontent.com/79617492/223662523-c3422215-a259-4d70-9ad2-b598cd8b6888.png)

##### 图17-7 校验项配置

h）默认值：可配置输入框默认值，预览运行时显示。

![image](https://user-images.githubusercontent.com/79617492/223662541-943e6c93-b59f-4ce0-8034-104d24284025.png)

##### 图17-8 默认值

i）标题位置：提供上、左两种标题位置样式选择。

![image](https://user-images.githubusercontent.com/79617492/223662562-babd5da6-9f5b-4272-9204-4b9a627a7fb4.png)

##### 图17-9 标题位置

j）占位提示：当输入框未输入时的显示文案，默认为“请输入”。

![image](https://user-images.githubusercontent.com/79617492/223662579-60af251f-79c4-4285-b323-a77f728c0fd0.png)

##### 图17-10 占位提示

k）尺寸：提供大、中、小三种尺寸选择，默认为中。

![image](https://user-images.githubusercontent.com/79617492/223662650-7668b5ad-6318-4455-9f9b-1e8745be1755.png)

##### 图17-11 尺寸

l）清除按钮：可对当前输入的值进行清除操作，清除后可输入其他项。

![image](https://user-images.githubusercontent.com/79617492/223662680-94236b81-aa85-42ba-beba-566e87bced7f.png)

##### 图17-12 清除按钮

m）最大长度：设置输入框可输入的最大字符长度，可手动输入或选择整数。

![image](https://user-images.githubusercontent.com/79617492/223662709-339e0c77-2e04-4ca4-bdf8-4136c15b48e0.png)

##### 图17-13 最大长度

n）加密方式：提供base64、md5、rsa三种加密方式，默认为无。

![image](https://user-images.githubusercontent.com/79617492/223662726-0afc94dc-90b6-427d-9a4a-14c489362bd4.png)

##### 图17-14 加密方式

o）动作面板：支持绑定控件的值变化、按下回车、获取/失去焦点的动作，当符合条件时，会触发相应动作。详情见《SoFlu（前端）全自动开发平台教程第3.3.16节至3.3.20节》绑定动作部分。

![image](https://user-images.githubusercontent.com/79617492/223662746-50c1f8cc-0afe-47e9-b92d-3027379fd71d.png)

##### 图17-15 动作面板

#### 4.5.17.2 操作案例

案例介绍如何在输入框值改变时，校验手机号码格式。

#### 4.5.17.2.1 输入值改变时，校验手机号码格式

a）在左侧“控件库”拖入输入框控件到右侧画布。

![image](https://user-images.githubusercontent.com/79617492/223662768-8d43a1af-d504-4e46-aa22-c48cceed470e.png)

##### 图17-16 拖入输入框控件

b）在右侧“属性栏”，单击校验项配置。

![image](https://user-images.githubusercontent.com/79617492/223662816-0ae9da32-6b33-45dd-b778-70fa3e237d3d.png)

##### 图17-17 单击校验项配置

c）单击添加一项，选择触发条件为值改变。


```
说明：

c1）值改变： 当输入框内值发生改变，会触发该事件。

c2）获取焦点： 当单击或使用Tab键切换到输入框控件时，会触发该事件。

c3）失去焦点： 当单击或使用Tab键离开输入框控件时，会触发该事件。
```

![image](https://user-images.githubusercontent.com/79617492/223662878-e4d66a9d-57f5-4678-845b-0067ee78adf2.png)

##### 图17-18 选择触发条件为值改变

d）单击触发条件旁的编辑按钮，选择校验正则为手机，并输入校验失败提示。

##### 说明：平台自带验证手机号码的正则表达式，除了11位限制外，还增加了数字判断，支持13、14、15、18开头的号段，其中14开头号段后尾只能有5或7，18开头号段后尾不能有4。

![image](https://user-images.githubusercontent.com/79617492/223662900-ecc20d24-f98c-4f5d-b720-25f6d68c0844.png)

##### 图17-19 单击触发条件旁的编辑按钮

e）配置完成后单击预览，在浏览器运行页面体验输入框校验效果。如图17-20、图17-21所示。

![image](https://user-images.githubusercontent.com/79617492/223662937-e6619029-066f-469d-b7c0-d59667e4d908.png)

##### 图17-20 校验成功

![image](https://user-images.githubusercontent.com/79617492/223662959-53d6b85d-c0cb-477f-bf5a-766eb2e39d71.png)

##### 图17-21 校验失败
