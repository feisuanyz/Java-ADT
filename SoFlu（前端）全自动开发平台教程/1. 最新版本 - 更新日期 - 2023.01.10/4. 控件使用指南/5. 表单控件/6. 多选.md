### 4. 控件使用指南

#### 4.5 表单控件

#### 4.5.6 多选

多选控件适用于在一组可选项中需要进行多项选择时使用。

#### 4.5.6.1 基本属性

a）组件描述：可输入对组件的描述，字符限制在200字符以内。

![image](https://user-images.githubusercontent.com/79617492/221816161-578b24ba-5df0-40bd-85bd-f1fba781c648.png)

##### 图6-1 组件描述

b）标题：可设置多项选择的标题，默认显示在选项上方。

![image](https://user-images.githubusercontent.com/79617492/221816195-f15763a3-7448-4665-93a6-bcc6ae50a753.png)

##### 图6-2 标题

c）是否禁用：开启后控件无法使用。

![image](https://user-images.githubusercontent.com/79617492/221816223-56e9d632-5b01-4c77-b3fb-4d542e085b6e.png)

##### 图6-3 是否禁用

d）是否非空：开启后多项选择控件值不允许为空。

![image](https://user-images.githubusercontent.com/79617492/221816257-03fa4367-26b5-4481-9da7-ca336e2ca76b.png)

##### 图6-4 是否非空

e）默认值：可设置多项选择控件的默认值。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-5.png)

##### 图6-5 默认值

f）标题位置：提供上、左两种标题位置选择，默认为上。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-6.png)

##### 图6-6 标题位置

g）布局：提供水平和垂直两种方式选择，默认为水平。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-7.png)

##### 图6-7 布局

h）选项：支持编辑代码设置多项选择的“title”和“value”；支持编辑代码配置数据映射字段。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-8.png)

##### 图6-8 选项

i）动作面板：支持绑定当值变化时的动作，当符合动作条件时会触发相应的动作。绑定动作更加详情内容请参考《SoFlu（前端）全自动开发平台教程第3.3.16节至第3.3.20节》绑定动作的章节。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-9.png)

##### 图6-9 动作面板

#### 4.5.6.2 操作案例

案例介绍如何通过绑定后端项目接口动态获取选项的标题和值。

#### 4.5.6.2.1 动态显示多选的标题和值

前提条件：需提前关联后端项目接口，在接口中需包含是否显示、选项集合以及多选控件标题等字段，接口返回数据如下图：

```
说明：

此处接口为案例演示，用户可根据实际情况绑定项目接口和定义字段，案例字段定义如下：

isCheckBox: 判断多选框是否显示，1为是，0为否。

topicItremList：选项集合，其中“title”为选项标题，“value”为选项值。

context：多选控件标题。
```

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-10.png)

##### 图6-10 接口返回数据

a）在“左侧控件库”，拖入一个容器控件，在容器控件内拖入一个多项选择控件到右侧画布。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-11.png)

##### 图6-11 拖入一个多项选择控件

b）单击上方变量设置，新建一个 “dataAccount”的页面变量，用于保存后端接口返回的选项集合数据。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-12.png)

##### 图6-12 新建一个 “dataAccount”的页面变量

c）选中多项选择控件，单击页面配置 > 绑定动作 > 页面加载前事件。在“绑定动作页面”，选择对应的项目和接口。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-13.png)

##### 图6-13 选择对应的项目和接口

d）单击新增响应成功处理动作，在“新增处理动作页面”，设置判断条件，执行动作选择数据处理，左边绑定 “dataAccount”的页面变量，右边绑定后端响应数据字段“data”。

##### 说明：当页面在加载之前，先请求后端当前设置的接口把响应数据中“data”的数据赋值给页面变量dataAccount。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-14.png)

##### 图6-14 新增处理动作页面

e）选中容器控件，在右侧属性栏单击高级 > 循环数据的变量绑定按钮。

f）在“变量绑定页面”，单击页面变量 > "dataAccount"，绑定完成后单击确定。

##### 说明：在容器循环中绑定后端接口返回的列表数据，然后单选按钮就可以选择绑定该循环体，遍历里面的数据。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-15.png)

##### 图6-15 单击dataAccount

g）选中多项选择控件，单击属性 > 标题的变量绑定按钮。

h）在“变量绑定页面”，单击循环变量 > 容器控件【循环变量名】，填入 “context（多选控件标题）” 变量。绑定完成后单击确定。

##### 说明：context是标题内容，绑定该变量后会遍历循环体中context的值显示。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-16.png)

##### 图6-16 填入 “context” 变量

i）选中多项选择控件，单击属性 > 选项的变量绑定按钮。

j）在“变量绑定页面”，单击循环变量 > 容器控件【循环变量名】，填入 “topicItremList（选项集合）” 变量。绑定完成后单击确定。

##### 说明：绑定选项集合循环变量后，在页面运行时会遍历集合中的数据，集合中有多少条数据就会循环遍历显示多少条。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-17.png)

##### 图6-17 填入 “topicItremList” 变量

k）选中多项选择控件，单击高级 > 是否显示变量绑定按钮。

l）在“变量绑定页面”，单击循环变量 > 容器控件【循环变量名】，填入 “isCheckBox（多选框是否显示）” 变量。绑定完成后单击确定。

##### 说明：多选框是否显示绑定循环变量isCheckBox，当变量值为1时，当前标题显示；当变量值为0时，当前标题不显示。即根据后端返回的字段值来判断当前标题是否显示。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-18.png)

##### 图6-18 填入 “isCheckBox” 变量

m）单击预览，在“浏览器预览页面”，查看动态循环多项选择器的运行效果。

##### 说明：根据后端接口返回的数据，循环显示标题、选项以及选择值。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/5.%20%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6/6-19.png)

##### 图6-19 单击预览
