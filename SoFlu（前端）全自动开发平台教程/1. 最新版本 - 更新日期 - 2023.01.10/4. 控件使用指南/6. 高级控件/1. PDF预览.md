### 4. 控件使用指南

#### 4.6 高级控件

#### 4.6.1 PDF预览

PDF预览控件用于页面中预览PDF文件。

#### 4.6.1.1 基本属性

a）PDF地址：可手动或绑定变量设置PDF地址。

![image](https://user-images.githubusercontent.com/79617492/223676785-6dc44698-3551-4401-99a6-21febcde528f.png)

##### 图1-1 PDF地址

b）加载中提示：可设置PDF文件加载中的提示，默认为“加载中……”。

![image](https://user-images.githubusercontent.com/79617492/223676843-13fd0bbf-4715-4b31-9abb-47ab7222a68a.png)

##### 图1-2 加载中提示

c）动作面板：支持绑定控件获取PDF数据的动作，当符合条件时，会触发相应动作。详情见《SoFlu（前端）全自动开发平台教程第3.3.16节至第3.3.20节》绑定动作部分。

![image](https://user-images.githubusercontent.com/79617492/223676870-8ab4bc25-0dda-4af8-a48a-6bda9f6a351b.png)

##### 图1-3 动作面板

#### 4.6.1.2 PDF预览

案例介绍如何动态获取PDF数据。

#### 4.6.1.2.1 动态获取PDF数据

前提条件：准备一个可以返回PDF地址数据的接口，返回数据格式参考如下：

![image](https://user-images.githubusercontent.com/79617492/223676964-026cf888-7562-4d1f-8c89-a75dc79d48ad.png)

##### 图1-4 返回数据格式参考

a）从左侧控件库拖入一个PDF预览控件到右侧画布。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/6.%20%E9%AB%98%E7%BA%A7%E6%8E%A7%E4%BB%B6/1-5.png)

##### 图1-5 拖入一个PDF预览控件

b）单击上方变量设置，新增一个 “GetPDF”的页面变量，用于存储PDF地址。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/6.%20%E9%AB%98%E7%BA%A7%E6%8E%A7%E4%BB%B6/1-6.png)

##### 图1-6 单击上方变量设置

c）单击PDF地址旁的变量绑定按钮，选择页面变量 > GetPDF，给PDF文件动态赋值。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/6.%20%E9%AB%98%E7%BA%A7%E6%8E%A7%E4%BB%B6/1-7.png)

##### 图1-7 单击变量绑定按钮

d）单击右侧属性栏的 绑定动作 > 获取PDF数据，在绑定动作页面选择对应的项目和接口。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/6.%20%E9%AB%98%E7%BA%A7%E6%8E%A7%E4%BB%B6/1-8.png)

##### 图1-8 单击获取PDF数据

e）单击响应成功处理的新增处理动作。在新增处理动作页面，填写判断条件，执行动作选择数据处理，左边绑定页面变量“GetPDF”，右边绑定接口响应数据“data”。配置完成后单击确定。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/6.%20%E9%AB%98%E7%BA%A7%E6%8E%A7%E4%BB%B6/1-9.png)

##### 图1-9 单击新增处理动作

f）单击页面上方预览，在浏览器预览页面查看动态获取的PDF加载中和加载后效果。

![输入图片说明](../../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/4.%20%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/6.%20%E9%AB%98%E7%BA%A7%E6%8E%A7%E4%BB%B6/1-10.png)

##### 图1-10 单击页面上方预览
