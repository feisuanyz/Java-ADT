### 4. 控件使用指南

#### 4.6 高级控件

#### 4.6.17 穿梭框

穿梭框组件用来完整展现数据，实现双栏穿梭选择框，常用于将多个项目从一边移动到另一边。

#### 4.6.17.1 基本属性

a）组件描述：可输入对组件的描述，字符限制在200字符以内。

![image](https://user-images.githubusercontent.com/79617492/228180895-d29fbded-80d3-4347-81d5-88e5fc52ab0a.png)

##### 图17-1 组件描述

b）数据源：可编辑穿梭框的数据源代码，数据格式如下：

```
字段说明：

b1）title：选择项展示的名称

b2）key：选择项的唯一标识

b3）description：描述

b4）disabled：选择项是否禁用
```

![image](https://user-images.githubusercontent.com/79617492/228180935-4d46823c-1911-45d6-ae6b-c88a556d0471.png)

##### 图17-2 数据源

c）数据映射：可输入代码编辑数据映射字段。

![image](https://user-images.githubusercontent.com/79617492/228180997-ee6af5ca-d3c3-49c0-90ae-2d6e0a2bb1da.png)

##### 图17-3 数据映射

d）默认值：设置穿梭框的值，即右侧框显示的值，通过key字段去选中。

![image](https://user-images.githubusercontent.com/79617492/228181052-6c95c078-78b9-4818-92b6-b3fb5a5010cb.png)

##### 图17-4 默认值

e）默认勾选项：设置被选中的选择项，通过key字段去选中。

![image](https://user-images.githubusercontent.com/79617492/228181103-69a4eb07-0fdd-41f5-89d3-894aefaa77fe.png)

##### 图17-5 默认勾选项

f）是否禁用：开启后控件被禁用。

![image](https://user-images.githubusercontent.com/79617492/228181185-1a47d2d4-8a94-48f6-b24c-5c8d3801d800.png)

##### 图17-6 是否禁用

g）启用全选：开启后控件支持全选功能。

![image](https://user-images.githubusercontent.com/79617492/228181230-fff13edb-fa87-4e30-8d6d-e210b2e7c390.png)

##### 图17-7 启用全选

h）启用搜索框：开启后控件支持搜索框功能。

![image](https://user-images.githubusercontent.com/79617492/228181302-f79ee475-d85e-4d97-b0a8-c6b7056ac642.png)

##### 图17-8 启用搜索框

i）左/右侧框宽度：设置穿梭框左右框的宽度。

![image](https://user-images.githubusercontent.com/79617492/228181381-ecc2c684-4eaa-4874-b6a5-275e17f95507.png)

##### 图17-9 左/右侧框宽度

j）左/右侧框高度：设置穿梭框左右框的高度。

![image](https://user-images.githubusercontent.com/79617492/228181446-c51afc84-10b5-41ec-b852-6a298e34be13.png)

##### 图17-10 左/右侧框高度

k）左侧标题：设置穿梭框左侧框的标题。

![image](https://user-images.githubusercontent.com/79617492/228183576-39777ea0-92f4-40d7-9bfa-08f2bbeca12e.png)

##### 图17-11 左侧标题

l）右侧标题：设置穿梭框右侧框的标题。

![image](https://user-images.githubusercontent.com/79617492/228183597-b7524fce-c9bc-4947-bb64-98e9c7215698.png)

##### 图17-12 右侧标题

m）操作按钮1文本：设置穿梭框中间操作按钮上侧按钮的展示文本。

![image](https://user-images.githubusercontent.com/79617492/228183627-0ea52fc2-51d4-45de-9252-3ef0927ed1be.png)

##### 图17-13 操作按钮1文本

n）操作按钮2文本：设置穿梭框中间操作按钮下侧按钮的展示文本。

![image](https://user-images.githubusercontent.com/79617492/228183652-c0806133-1017-47f7-ab29-1278a543b01f.png)

##### 图17-14 操作按钮2文本

o）动作面板：支持绑定控件的值改变时、当选项被选中或取消选中时以及当触发搜索时的动作，当符合条件时，会触发相应动作。详情见《SoFlu（前端）全自动开发平台教程第3.3.16节至第3.3.20节》绑定动作部分。

![image](https://user-images.githubusercontent.com/79617492/228183685-ab9f2268-fc6e-489f-bbff-4967cfc4f14f.png)

##### 图17-15 动作面板

#### 4.6.17.2 操作案例

案例介绍如何使用穿梭框控件选中多条数据到右侧。

#### 4.6.17.2.1 选中多条数据到右侧

前提条件：准备一个可以返回穿梭框数据的后端接口，示例接口返回数据如下：

![image](https://user-images.githubusercontent.com/79617492/228183717-d9ec0180-aa04-4888-b6f6-8d78a073e98f.png)

##### 图17-16 示例接口返回数据

a）在左侧控件库，拖入一个穿梭框控件，一个文本控件到右侧画布。

##### 说明：此处文本控件仅用于展示穿梭框选中的值，非必需项。

![image](https://user-images.githubusercontent.com/79617492/228183756-75785079-e985-4672-ad37-3ef2977e341e.png)

##### 图17-17 拖入控件

b）单击上方变量设置 > 页面变量，新增一个Transfer的页面变量，用于储存穿梭框的值。

![image](https://user-images.githubusercontent.com/79617492/228183799-c0eea357-6135-4b9a-b43a-322e9369f6e6.png)

##### 图17-18 新增一个Transfer的页面变量

c）选中穿梭框控件，单击右侧属性栏的数据源变量绑定按钮，单击页面变量 > Transfer。

![image](https://user-images.githubusercontent.com/79617492/228183825-09212b72-45d8-428d-b6d4-c4dc81ceba77.png)

##### 图17-19 单击Transfer

d）选中文本控件，单击右侧属性栏内容变量绑定按钮，单击选择控件 > 穿梭框控件。

![image](https://user-images.githubusercontent.com/79617492/228183860-0db2eeed-8e6e-4b79-9c93-7e403b22a9cb.png)

##### 图17-20 单击穿梭框控件

e）单击右侧属性栏页面配置 > 绑定动作 > 页面加载前事件。

![image](https://user-images.githubusercontent.com/79617492/228183882-05a85307-b12f-4619-893b-b9770f8ce7ec.png)

##### 图17-21 单击页面加载前事件

f）在绑定动作页面，选择对应的项目和接口。

![image](https://user-images.githubusercontent.com/79617492/228183904-c64ff3c7-90fd-43dd-bb61-05c7958dea51.png)

##### 图17-22 选择对应的项目和接口

g）单击下方新增处理动作，填写判断条件，执行动作选择数据处理，左侧绑定页面变量“Transfer”，右侧绑定后端接口响应数据data，配置完成后单击确定。

![image](https://user-images.githubusercontent.com/79617492/228183927-19d0bfa8-d182-4c85-be62-97ad8df4a5c8.png)

##### 图17-23 单击新增处理动作

h）单击预览，在运行页面，查看动态获取的穿梭框控件数据并体验双栏穿梭效果。

##### 说明：右侧穿梭框是被选中的数据，被选中的数据在下方文本控件中通过key字段值去体现。

![image](https://user-images.githubusercontent.com/79617492/228183959-c3768263-98da-4350-a15a-228c514cf4fb.png)

##### 图17-24 单击预览
