### 4. 控件使用指南

#### 4.6 高级控件

#### 4.6.7 分页

采用分页的形式分隔长列表。每次只加载显示一个页面，当加载或渲染多条数据时，可切换页码浏览分页数据。

#### 4.6.7.1 基本属性

a）组件描述：可输入对组件的描述，字符限制在200字符以内。

![image](https://user-images.githubusercontent.com/79617492/226306654-fe141b83-c860-4df1-adfe-342e37b16260.png)

##### 图7-1 组件描述

b）样式：提供两种样式选择，分别是普通和迷你，默认为普通。

![image](https://user-images.githubusercontent.com/79617492/226306687-1d56a1ed-e0cf-4389-993c-b6f908b7ece7.png)

##### 图7-2 样式

c）总数：可手动输入或绑定变量设置分页列表的数据总条数。

![image](https://user-images.githubusercontent.com/79617492/226306729-cfa72d81-e17d-40ea-a8a1-9ea54135db59.png)

##### 图7-3 总数

d）当前页数：可手动输入或绑定变量设置分页列表当前所在的页数，可设置默认打开的页数。

![image](https://user-images.githubusercontent.com/79617492/226306786-ca53ba29-10ea-48cc-9d8a-10958f43d476.png)

##### 图7-4 当前页数

e）每页条数：可手动输入或绑定变量设置分页列表每页显示数据的条数。

![image](https://user-images.githubusercontent.com/79617492/226306956-3f128301-7ad5-45f6-a167-9984c9cfde76.png)

##### 图7-5 每页条数

f）是否禁用：开启后控件禁止使用。

![image](https://user-images.githubusercontent.com/79617492/226306999-b1273469-81a5-4065-b969-f1333c4a85a9.png)

##### 图7-6 是否禁用

g）快速跳转：开启后可在控件中输入想要跳转的页数。

![image](https://user-images.githubusercontent.com/79617492/226307033-b5aa860f-3eb2-4899-b7ad-3c8f06a08f17.png)

##### 图7-7 快速跳转

h）显示每条页数：开启后出现下拉，可选择每页需要展示的数据条数。

![image](https://user-images.githubusercontent.com/79617492/226307064-31b6afd4-89a3-465a-8cb8-831e244faaef.png)

##### 图7-8 显示每条页数

i）动作面板：支持绑定控件的当页数变化时和当每页条数变化时的动作，当符合条件时，会触发相应动作。详情见《SoFlu（前端）全自动开发平台教程第3.3.16节至第3.3.20节》绑定动作部分。

![image](https://user-images.githubusercontent.com/79617492/226307116-53c19800-92ec-443f-9c5a-310c8d0212e3.png)

##### 图7-9 动作面板

#### 4.6.7.2 操作案例

案例介绍如何切换页数显示对应分页内容。

#### 4.6.7.2.1 切换页数显示对应分页内容

前提条件：准备一个可以展示表格数据的后端接口，示例接口返回数据如下： 

![image](https://user-images.githubusercontent.com/79617492/226307140-93d853a5-b057-4ee5-87a4-9f34f6f71017.png)

##### 图7-10 示例接口返回数据

a）在左侧控件库拖入一个表格控件和一个分页控件到右侧画布。

![image](https://user-images.githubusercontent.com/79617492/226307157-27810961-ac0e-4357-9a2e-c8642c12db18.png)

##### 图7-11 拖入两个控件

b）单击变量设置，新增四个页面变量，分别是 “FromVar”、“pageIndex”、“pageSize” 和 “total”，用于存储后端接口返回的值。

```
变量说明：

FromVar： 表格数据

pageIndex： 当前页数

pageSize： 每页显示条数

total： 总条数
```

![image](https://user-images.githubusercontent.com/79617492/226307228-e6fedc6d-12fd-4030-bdcb-ee970170a0ee.png)

##### 图7-12 新增四个页面变量

c）选中表格控件，单击右侧属性栏数据源旁的变量绑定按钮，选择页面变量 > FromVar，给表格赋值。

![image](https://user-images.githubusercontent.com/79617492/226307251-ebd29667-f142-4cd1-9d71-e65b162e88be.png)

##### 图7-13 单击变量绑定按钮

d）在右侧属性栏配置表格基本属性，开启自动查询，关闭默认开启的分页设置以及配置数据列等。

##### 说明：表格控件自带分页属性并默认开启，这里需要用到另外的分页控件，需先关闭表格的分页设置。

![image](https://user-images.githubusercontent.com/79617492/226307270-c6fceca9-e278-487b-b663-a6e0bc506ff1.png)

##### 图7-14 配置表格基本属性

e）单击右侧属性栏中的绑定动作 > 获取数据，在绑定动作页面，选择对应的项目和接口，给后端接口中的请求参数pageIndex（当前页数）、pageIndex（每页显示条数）以及total（总条数）手动赋值。

##### 说明：因为关闭了表格的分页设置属性，请求接口时分页参数值为空，所以需要先给分页请求参数赋值。

![image](https://user-images.githubusercontent.com/79617492/226307306-d8175ae5-b251-4062-941a-783230bc2784.png)

##### 图7-15 给参数赋值

f）单击响应成功处理的新增处理动作，填写判断条件，执行动作选为数据处理，分别给四个页面变量赋上响应数据data对应的字段值，配置完成后单击确定。

![image](https://user-images.githubusercontent.com/79617492/226307384-124ae698-babd-4ede-8bea-9ab1067382c7.png)

##### 图7-16 单击新增处理动作

g）选中分页控件，在右侧属性栏分别单击总数、当前页数以及每页条数旁的变量绑定按钮，绑定添加好的页面变量，如图7-17至7-20所示，给属性赋值。

![image](https://user-images.githubusercontent.com/79617492/226307415-75b9b88a-0b7f-4a11-9e3e-af4982b22c43.png)

##### 图7-17 单击变量绑定按钮

![image](https://user-images.githubusercontent.com/79617492/226307434-b13a7047-4dc8-4316-920a-72155c735953.png)

##### 图7-18 给总数字段赋值

![image](https://user-images.githubusercontent.com/79617492/226307495-b2206016-9159-4226-8870-887b3df83b30.png)

##### 图7-19 给当前页面字段赋值

![image](https://user-images.githubusercontent.com/79617492/226307520-607161ad-a452-4b07-ac6b-555de0a71fbe.png)

##### 图7-20 每页条数字段赋值

h）在分页控件的右侧属性栏，单击绑定动作 > 当页数变化时。

##### 说明：当单击切换分页控件页签时，页数发生变化，触发后续动作。

![image](https://user-images.githubusercontent.com/79617492/226307542-a178b2d6-83c2-4009-8ff8-d41b1855bb67.png)

##### 图7-21 单击当页数变化时

i）在绑定动作页面，选择对应的项目和接口，绑定接口的请求参数，左边绑定接口的请求参数，右边绑定分页控件的对应字段变量。

##### 说明：分页控件自带pageIndex和pageSize的控件变量，可分开绑定。

![image](https://user-images.githubusercontent.com/79617492/226307605-3901d86e-139b-4564-b770-8e37e3c85322.png)

##### 图7-22 绑定变量

![image](https://user-images.githubusercontent.com/79617492/226307633-ed30d852-6a38-4e67-a53f-82da43ee08b1.png)

##### 图7-23 绑定分页控件的对应字段变量

j）单击下方响应成功处理的新增处理动作，填写判断条件，执行动作选择数据处理，左边绑定页面变量FromVar（表格数据），右边绑定接口响应数据data。

##### 说明：当接口成功响应时，添加处理动作再次给表格赋值，刷新表格数据。

![image](https://user-images.githubusercontent.com/79617492/226307675-8dc1c0b8-6b6a-4e29-80be-e12863aa6d52.png)

##### 图7-24 单击新增处理动作

k）单击预览，在浏览器预览页面体验分页表格运行效果。

![image](https://user-images.githubusercontent.com/79617492/226307712-8e21fc2d-f321-4ed4-8da6-e3aa82fcffe6.png)

##### 图7-25 单击预览
