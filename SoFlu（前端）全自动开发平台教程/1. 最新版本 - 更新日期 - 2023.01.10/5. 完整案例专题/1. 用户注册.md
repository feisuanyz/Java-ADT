### 5. 完整案例专题

#### 5.1 用户注册

用户注册功能往往是开发者在开发一个系统或APP应用时需要实现的比较常见的功能，本节为您介绍如何使用(前端)全自动开发平台进行页面开发，同时联合(后端)全自动开发平台进行用户注册功能的实现。

#### 5.1.1 功能描述

在【用户注册页面】填写好用户注册信息以后，输入注册手机号，单击“发送验证码”，即可接收到验证码；填写收到的验证码，单击“注册”按钮进入【用户管理页面】，即可查看所有用户注册信息，并可对每一位用户进行启用或停用的操作。

![image](https://user-images.githubusercontent.com/79617492/228419233-80da2b96-c94e-4e96-ab5a-2e5d1679cfe9.png)

##### 图1-1 用户注册页面

#### 5.1.2 步骤引导

a）后端接口准备；

b）页面设计、数据绑定；

c）页面预览、功能测试。

#### 5.1.2.1 后端接口准备

在（后端）全自动开发平台准备前端页面需调用到的5个接口：

![image](https://user-images.githubusercontent.com/79617492/228419251-6e4bcc41-d170-4529-a2c0-529d11b9288a.png)

##### 图1-2 需调用到的5个接口

a）saveUserregistration接口

用于新增用户注册信息，在【用户注册页面】填写完所有用户信息后，单击“注册”按钮时调用。

![image](https://user-images.githubusercontent.com/79617492/228419266-b2cc24a2-c870-42cd-9011-54987f816f9c.png)

##### 图1-3 saveUserregistration接口流程图

b）updateUserregistration接口

用于更新用户注册信息，在【用户管理页面】对用户单击“启用”或“停用”按钮时调用。

![image](https://user-images.githubusercontent.com/79617492/228419286-3e5a44c6-6899-4db7-b5d5-3b91e77c324e.png)

##### 图1-4 updateUserregistration接口流程图

c）pageListUserRegistration接口

用于查询所有用户信息，在进入【用户管理页面】时调用并显示所有用户信息。

![image](https://user-images.githubusercontent.com/79617492/228419316-cb33327f-9a79-41d5-82d9-ab492ebdadc2.png)

##### 图1-5 pageListUserRegistration接口流程图

d）sendVerifyCode接口

用于发送手机验证码，在【用户注册页面】填写完注册手机号之后，单击“发送验证码”按钮时调用。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-6.png)

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-7.png)

##### 图1-6/7 sendVerifyCode接口流程图

e）checkVerifyCode接口

用于验证手机验证码，在【用户注册页面】填写完接收到的手机验证后，单击“注册”按钮时调用。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-8.png)

##### 图1-8 checkVerifyCode接口流程图1

若您不了解如何在(后端)全自动开发平台创建接口及其他相关操作，可以查看《SoFlu（后端）全自动开发平台教程》。

#### 5.1.2.2 页面构建、数据绑定

##### 前提条件：您已完成创建应用项目、创建页面、关联后端项目等基本操作。

用户注册功能需要开发【用户注册页面】、【导航栏页面】和【用户管理页面】三个页面，其中【导航栏页面】与【用户管理页面】为页面嵌套关系，即【导航栏页面】需关联【用户管理页面】进行展示，如下图所示。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-10.png)

##### 图1-10 【导航栏页面】需关联【用户管理页面】

##### 若您不了解如何进行页面嵌套，可以查看《SoFlu（前端）全自动开发平台教程第6.1.1节：如何实现页面嵌套》。

a）用户注册页面

a1）页面构建

通过点击页面开发界面中大纲树选项，即可查看该页面使用到的所有控件，点击控件右侧的眼睛按钮，可显示或隐藏对应控件以展示不同的页面效果。

控件的具体配置可根据实际需求进行自定义配置，若不清楚如何配置控件，请查看对应控件的帮助文档。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-11.png)

##### 图1-11 页面构建

a2）数据绑定

a2-1）为发送验证码按钮绑定：当点击时，调用sendVerifyCode接口发送手机验证码，传入注册手机号，直接引用注册手机号输入框控件即可。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-12.png)

##### 图1-12 为发送验证码按钮绑定

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-13.png)

##### 图1-13 执行绑定动作

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-14.png)

##### 图1-14 变量绑定

a2-2）为注册按钮绑定：当点击时，调用saveUserregistration接口新增用户注册信息，需传入在页面中填写的用户名、登录密码、注册手机号信息，直接引用对应控件即可；同时跳转至用户管理页面。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-15.png)

##### 图1-15 为注册按钮绑定

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-16.png)

##### 图1-16 选择变量

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-17.png)

##### 图1-17 选择页面

b） 导航栏页面

由于该页面需与【用户管理页面】关联展示，需打开属性栏“页面配置”选项下设置为页面组件的按钮，如此在开发【用户管理页面】时，才可选择上级页面组件，以实现页面嵌套；该页面无需进行数据绑定。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-18.png)

##### 图1-18 打开属性栏

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-19.png)

##### 图1-19 设置为页面组件

c）用户管理页面

c1）页面构建

由于用户管理页面只需要设计一张表单展示用户数据，可使用（前端）全自动开发平台的表单设计功能，利用表单生成页面，具体操作请参见《SoFlu（前端）全自动开发平台教程第4.5节：表单控件》。

##### 说明：用户管理页面也可直接使用控件库中的表格控件进行构建。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-20.png)

##### 图1-20 点击表单设计

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-21.png)

##### 图1-21 表单设置

c2）数据绑定

c2-1）为表格控件绑定：调用pageListUserRegistration接口分页查询所有用户注册信息。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-22.png)

##### 图1-22 为表格控件绑定

c2-2）为操作列-启用/停用选项绑定：当点击时，调用updateUserregistration接口修改用户状态，进入属性栏操作列配置进行相关设置即可。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-23.png)
##### 图1-23 选择操作列配置

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-24.png)

##### 图1-24 进行操作列配置

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-25.png)

##### 图1-25 执行绑定动作

#### 5.1.2.3 页面预览、功能测试

a）上述所有操作完成后，在【用户注册页面】所在页面设计界面上方，单击“预览”选项进行页面预览。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-26.png)

##### 图1-26 单击“预览”选项

b）预览加载完成后，系统将自动弹出浏览器窗口默认显示设置为首页的页面，此时您可以输入用户注册信息，进行相关功能测试。

##### 说明：在浏览器按F12键，即可查看手机端效果。

提交注册信息：

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-27.png)

##### 图1-27 提交注册信息

查看所有用户信息：

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-28.png)

##### 图1-28 查看所有用户信息

停用用户状态：

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/5.%20%E5%AE%8C%E6%95%B4%E6%A1%88%E4%BE%8B%E4%B8%93%E9%A2%98/1-29.png)

##### 图1-29 停用用户状态
