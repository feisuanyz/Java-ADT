### 6. 常见操作案例

#### 6.2 如何实现下拉框控件数据映射

本节为您介绍如何使用下拉选择框控件进行数据映射，单选框和多选框同理。

通过数据映射，您可以将接口返回的数据对应显示在下拉框中。

##### 说明：本节以申报类型下拉选择框为您进行说明。

![image](https://user-images.githubusercontent.com/79617492/229462775-e56edb7c-b818-46bd-b741-43b730f09fb7.png)

##### 图2-1 申报类型下拉选择框

#### 6.2.1 操作步骤

a）设置页面变量，用于接收接口返回的数据

单击页面开发界面上方“变量设置”选项，设置需用于接收数据的页面变量，图中示例设置的为page_declareType（申报类型）。

![image](https://user-images.githubusercontent.com/79617492/229462803-fd20a958-944b-4d7f-ba10-fc43336912b0.png)

##### 图2-2 单击变量设置

b）绑定页面加载前事件，调用后端接口获取数据，并使用页面变量接收

b1）进入属性栏“页面配置”选项卡，单击“绑定动作”绑定页面加载前事件，选择所关联后端项目中对应的接口。

b2）新增数据处理，将接口返回的数据赋值给页面变量page_declareType。

![image](https://user-images.githubusercontent.com/79617492/229462839-29f8f396-6c2e-4783-9db0-9cb2d20870c5.png)

##### 图2-3 将接口返回的数据赋值给页面变量

c）下拉框选项数据绑定页面变量

选中下拉选择框控件，单击选项属性旁的“变量绑定”按钮，选择页面变量。

![image](https://user-images.githubusercontent.com/79617492/229462881-be14805d-b45d-469b-ad74-0983f3b80b0c.png)

##### 图2-4 绑定页面变量

d）设置映射字段

d1）在选项属性下，单击“编辑代码”进行数据映射。

d2）设置title（下拉框中显示的内容）、value（下拉框中显示内容对应的值）的对应字段。

d3）映射字段设置完成，即可实现下拉框控件数据映射。

![image](https://user-images.githubusercontent.com/79617492/229462917-9fe90ac2-107a-4419-9260-e61e0b121357.png)

##### 图2-5 设置映射字段

##### 注意：“title”和“value”的对应字段应与后端接口返回的字段名一致，否则数据将无法映射绑定到下拉框中。
