### 6. 常见操作案例

#### 6.2 如何实现下拉框控件数据映射

本节为您介绍如何使用下拉选择框控件进行数据映射，单选框和多选框同理。

通过数据映射，您可以将接口返回的数据对应显示在下拉框中。

##### 说明：本节以申报类型下拉选择框为您进行说明。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/6.%20%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C%E6%A1%88%E4%BE%8B/2-1.png)

##### 图2-1 申报类型下拉选择框

#### 6.2.1 操作步骤

a）设置页面变量，用于接收接口返回的数据

单击页面开发界面上方“变量设置”选项，设置需用于接收数据的页面变量，图中示例设置的为page_declareType（申报类型）。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/6.%20%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C%E6%A1%88%E4%BE%8B/2-2.png)

##### 图2-2 单击变量设置

b）绑定页面加载前事件，调用后端接口获取数据，并使用页面变量接收

b1）进入属性栏“页面配置”选项卡，单击“绑定动作”绑定页面加载前事件，选择所关联后端项目中对应的接口。

b2）新增数据处理，将接口返回的数据赋值给页面变量page_declareType。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/6.%20%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C%E6%A1%88%E4%BE%8B/2-3.png)

##### 图2-3 将接口返回的数据赋值给页面变量

c）下拉框选项数据绑定页面变量

选中下拉选择框控件，单击选项属性旁的“变量绑定”按钮，选择页面变量。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/6.%20%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C%E6%A1%88%E4%BE%8B/2-4.png)

##### 图2-4 绑定页面变量

d）设置映射字段

d1）在选项属性下，单击“编辑代码”进行数据映射。

d2）设置title（下拉框中显示的内容）、value（下拉框中显示内容对应的值）的对应字段。

d3）映射字段设置完成，即可实现下拉框控件数据映射。

![输入图片说明](../../../images/%20SoFlu%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89%E5%85%A8%E8%87%AA%E5%8A%A8%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0%E6%95%99%E7%A8%8B/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202023.01.10/6.%20%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C%E6%A1%88%E4%BE%8B/2-5.png)

##### 图2-5 设置映射字段

##### 注意：“title”和“value”的对应字段应与后端接口返回的字段名一致，否则数据将无法映射绑定到下拉框中。
