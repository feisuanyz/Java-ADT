### 10 商用版客户端

#### 10.7 本地客户端使用指标监控接口

平台提供监控检测扩展jar包，在本地客户端和执行引擎使用指标监控接口时，需要下载指定的扩展jar包后，执行指标监控的接口时才能监控到数据。

#### 10.7.1 操作指南

a）进入（后端）全自动开发平台，单击右上角下载按钮 > 扩展jar包。

![image](https://user-images.githubusercontent.com/79617492/231092499-20206040-44c4-4f55-8c87-fd06bfc845ab.png)

##### 图7-1 单击扩展jar包

b）在扩展jar包历史版本列表中，单击下载监控检测扩展jar包。

![image](https://user-images.githubusercontent.com/79617492/231092532-36ff583e-c754-4bb5-8691-fa8b86241ac2.png)

##### 图7-2 单击下载监控检测扩展jar包

c）将下载的监控检测扩展jar包解压后放进后端平台本地客户端或执行引擎的extjar文件夹中。

![image](https://user-images.githubusercontent.com/79617492/231092564-414f2aa7-a5fe-4bd4-ac0b-834ddd1d7958.png)

##### 图7-3 放进extjar文件夹

d）创建一个application.yml文件放置于feisuanyz-local-engine.jar文件同一目录并配置以下信息，用于控制执行引擎中的所有项目是否上报监控信息。

```
metrics-report:
enable: true
```

![image](https://user-images.githubusercontent.com/79617492/231092609-2cd862e6-117a-416d-8f56-bed30ee4ad9b.png)

##### 图7-4 创建一个application.yml文件

e）单击startup启动本地客户端。

![image](https://user-images.githubusercontent.com/79617492/231092635-0dd6a2e1-de6c-4682-b272-36607d810098.png)

##### 图7-5 单击startup启动本地客户端

f）在本地客户端项目中，新建一个开启指标监控上报的接口。

##### 说明：如何创建指标监控上报接口详情可见文档《SoFlu（后端）全自动开发平台教程第4.13.3节：集成监控接口》部分。

![image](https://user-images.githubusercontent.com/79617492/231092654-59a54ae4-9bae-47ec-b1b4-22a14df7aa19.png)

##### 图7-6 新建一个开启指标监控上报的接口

g）执行接口后，进入监控上报数据的地址可查看监控采集到的数据。

![image](https://user-images.githubusercontent.com/79617492/231092682-c01524a1-527b-48c9-a431-9bf1489a08d2.png)

##### 图7-7 查看监控采集到的数据
