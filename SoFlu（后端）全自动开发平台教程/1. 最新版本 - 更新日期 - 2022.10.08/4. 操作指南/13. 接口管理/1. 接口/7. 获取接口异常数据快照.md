### 4. 操作指南

#### 4.13 接口管理

#### 4.13.1 接口

#### 4.13.1.7 获取接口异常数据快照

项目部署完成后，当某个接口执行异常时，用户可以通过系统提供的API接口去获取接口异常时整个流程数据的数据快照，便于开发者定位问题。本节将为您介绍获取接口异常数据快照的具体操作过程。

```
说明：

a）API接口：http://ip:端口/flowexceptionlog/{projectId}/exception/interfaceId/{ interfaceId}

b）ip：启动本地执行引擎的服务器地址；

c）端口：启动本地执行引擎的服务器端口，默认为8080；

d）{projectId}：对应项目的ID，使用时需去掉“{}”符号，可在项目页面地址栏找到；

e）{interfaceId}：表示对应的接口ID，使用时需去掉“{}”符号，可在接口的流程图编辑页面地址栏找到。
```
#### 4.13.1.7.1 前提条件

您需要做好项目部署前的准备工作，具体可参见文档《SoFlu（后端）全自动开发平台教程第2.9章：项目部署》。

#### 4.13.1.7.2 操作步骤

a）进入本地执行引擎的解压路径，找到application.yml文件，添加如下记录流程异常日志信息，若没有找到则手动创建application.yml文件即可，如图7-1、7-2所示。

```
# 记录流程异常日志
exception:
    log:
        enable: true
```

![输入图片说明](../../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/4.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/13.%20%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86/1.%20%E6%8E%A5%E5%8F%A3/7-1.png)

##### 图7-1 本地执行引擎的解压路径
