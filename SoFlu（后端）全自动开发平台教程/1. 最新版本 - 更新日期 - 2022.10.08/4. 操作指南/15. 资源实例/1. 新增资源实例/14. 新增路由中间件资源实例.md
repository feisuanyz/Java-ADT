### 4. 操作指南

#### 4.15 资源实例

#### 4.15.1 新增资源实例

#### 4.15.1.14 新增路由中间件资源实例

数据库中间件是分布式中间件和嵌入式中间件的结合体。用户可通过数据库中间件的checkDal配置来选择中间件类型，无须再单独添加分布式中间件或嵌入式中间件，以及配置对应的资源实例。

#### 4.15.1.14.1 前提条件

a）已存在分布式中间件或者嵌入式中间件或者数据库中间件的资源实例，三者中起码存在一种。

b）项目中已加载路由中间件资源。

#### 4.15.1.14.2 操作步骤

a）进入资源实例功能模块界面，单击“路由中间件”后的 +按钮，选择“新增资源实例”。

b）填写资源实例的名称和描述，选择系统默认的环境，填写资源实例的配置项信息，单击提交完成资源实例添加。

![image](https://user-images.githubusercontent.com/79617492/198529685-23a78779-9533-43e9-8739-749cad9fecf1.png)

##### 图14-1 配置资源实例相关信息

##### 注意：routeValue的值为json格式，即{"自定义名称":"嵌入式资源实例或分布式资源实例资源名称"}，多个资源使用英文分号“;”隔开，如{"a":"blackliststi";"b":"分布式"}，a指向的是嵌入式的blackliststi资源实例，b指向的是分布式的分布式资源实例，如下图所示。

![image](https://user-images.githubusercontent.com/79617492/198529709-47acc378-873f-4c50-9155-5416b6b417c3.png)

##### 图14-2 多个资源示例

c）填写完成后,单击提交，系统会进行校验，若填写的资源名称错误或不存在，则会弹出资源实例不存在提示。

![image](https://user-images.githubusercontent.com/79617492/198529721-34acbeea-5cc8-4041-9eba-3b284eb92c71.png)

##### 图14-3 资源实例不存在提示

##### 说明：请确保输入的value值在当前项目的嵌入式中间件或分布式中间件或数据库中间中存在对应的资源实例名称，否则会无法创建路由中间件资源实例。
