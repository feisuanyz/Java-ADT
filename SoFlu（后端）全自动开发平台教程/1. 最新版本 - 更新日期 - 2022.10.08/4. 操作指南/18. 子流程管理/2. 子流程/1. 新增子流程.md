### 4. 操作指南

#### 4.18 子流程管理

#### 4.18.2 子流程

#### 4.18.2.1 新增子流程

在项目开发过程中，可将公共方法、复杂方法或公共流程在子流程中编写，在接口流程图中再通过子流程组件去调用子流程接口，以此可以简化接口流程，提高接口的执行效率。

#### 4.18.2.1.1 操作步骤

a）进入“子流程管理”功能模块，选中已创建的子流程模块，单击“+ > 新增子流程”，进入新增子流程页面。

![image](https://user-images.githubusercontent.com/79617492/199453302-f90dfbef-412a-4a40-9e7a-30cbbc941fb5.png)

##### 图1-1 单击新增子流程

b）在新增子流程页面，首先需要填写子流程名称、描述等基本信息，您同时也可以编辑该子流程的设计文档，用于记录该子流程的设计理念、思路等信息，填写完成后单击“下一步”。

![image](https://user-images.githubusercontent.com/79617492/199453331-8572fe21-db12-4f69-a16f-5eb37293f18a.png)

##### 图1-2 填写子流程基本信息

c）进入配置入出口参数页面，分别选择“入参列表”和“出参列表”页签，单击“新增”即可自定义配置当前子流程的入口参数和出口参数信息，配置完成后单击“提交”即新增子流程成功。

![image](https://user-images.githubusercontent.com/79617492/199453351-e274d652-1439-47e7-8e9d-5865057285ee.png)

##### 图1-3 配置当前子流程的入口参数和出口参数信息

![image](https://user-images.githubusercontent.com/79617492/199453405-b45508e7-eb83-4409-8111-340d419f6fdc.png)

##### 图1-4 新增子流程成功

##### 说明：若您在编辑接口流程图时，其他组件需要引用子流程组件的执行结果，即子流程的输出结果，则需要在子流程中设置出参，将子流程的输出结果赋值给该出口参数才可正常引用；若没有设置出参，则在接口流程图中，将无法获取子流程的输出结果，“关于如何在接口中使用子流程组件”请参考《SoFlu（后端）全自动开发平台教程第6.2.4节：子流程组件》。

d）新增子流程成功后，您便可以对子流程的设计文档进行提交版本和版本对比操作。

![image](https://user-images.githubusercontent.com/79617492/199453446-471af0c1-0cbc-4469-a605-8e2c04f547ae.png)

##### 图1-5 对子流程的设计文档进行提交版本和版本对比操作

e）单击进入模型编辑，进入子流程编辑页面，您可以在该页面自定义绘制子流程的流程图，绘制完成后单击“保存并退出”。

![image](https://user-images.githubusercontent.com/79617492/199453477-be708cf6-df7e-4167-8676-ebd625f1d77a.png)

##### 图1-6 进入子流程编辑页面

##### 说明：子流程的流程图中不能存在输出结果组件，若需将子流程的执行结果作为输出结果，在配置入参页面设置出参即可。

f）退出子流程编辑页面，提交该子流程即创建子流程完成，您后续可以在进行接口编辑时使用子流程组件引用该子流程。
