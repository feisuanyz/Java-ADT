### 4. 操作指南

#### 4.24 数据库设计

#### 4.24.2 数据库管理

#### 4.24.2.5 连接数据库

本节为您介绍如何连接服务器上的数据库，平台支持的数据库类型包括：MySQL、Oracle、SQL Server、PostgreSQL、Tidb、DB2，连接后可以将平台上新建表的数据信息同步到服务器上的数据库。

#### 4.24.2.5.1 前提条件

a）您需要拥有“数据库设计”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

#### 4.24.2.5.2 操作步骤

a）进入数据库设计功能模块页面，选中需要连接的数据库，单击三个点按钮 > 数据库连接。

![image](https://user-images.githubusercontent.com/79617492/200514800-89eb58c3-cbae-495f-b18c-34f9279a7354.png)

##### 图5-1 单击数据库连接

b）进入数据库连接管理页面，单击新增。

![image](https://user-images.githubusercontent.com/79617492/200514941-0d82ec6f-4785-4c09-af60-ae022bdc0553.png)

##### 图5-2 单击新增

c）系统显示新增数据库连接页面，根据需求选择对应的数据库类型。

![image](https://user-images.githubusercontent.com/79617492/200515253-19a88494-fb8d-44b7-9a79-c199b652e3fd.png)

##### 图5-3 根据需求选择对应的数据库类型

```
说明：

c1）tidb数据库：该数据库创建表时设置了主键或未设置主键，数据库同步到服务器数据库后，其主键就不可以发生改变，若修改了数据库的主键信息，则再次将数据库同步到服务器时会执行SQL异常。

c2）DB2数据库：该数据库不支持IF EXISTS语法，因此不支持重建整表，如果需要重建整表，则需先在服务器上的数据库中删除对应已存在的表。

c3）sql server数据库：更换字段主键时，需先将该字段设置为非空，然后同步到服务器的数据库后，再设置该字段为主键，然后再进行同步，主键才会生效。
```

d）填写其他信息后，单击“提交”即可。

![image](https://user-images.githubusercontent.com/79617492/200515285-efd5f5e6-5429-4a6d-a8c8-232d08a5b530.png)

##### 图5-4 填写其他信息

```
说明：

d1）连接数据库后，可以在数据库设计中新建对应类型的表、字段、设置索引或外键等操作，然后同步到服务器的数据库。（数据库操作请参考“操作指南-4表管理”章节，版本同步请参考“操作指南-24.5.2同步数据库”章节）

d2）填写完数据库信息后，可单击测试校验数据库信息是否正确。
```
