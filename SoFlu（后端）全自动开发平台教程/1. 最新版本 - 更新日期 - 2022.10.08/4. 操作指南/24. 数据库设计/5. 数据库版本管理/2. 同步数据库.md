### 4. 操作指南

#### 4.24 数据库设计

#### 4.24.5 数据库版本管理

#### 4.24.5.2 同步数据库

同步数据库可以将在平台对数据库表的增删改查操作同步到服务器上的数据库中，在同步表之前，请确保服务器上的数据库空间有剩余，若空间不足将导致同步表失败。

#### 4.24.5.2.1 前提条件

a）您需要拥有“数据库设计”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

#### 4.24.5.2.2 操作步骤

a）进入数据库设计功能模块，打开对应的表，进行修改后，单击保存 > 提交版本，在二次弹窗单击确定。

![image](https://user-images.githubusercontent.com/79617492/201312721-3f588d48-4327-4c65-9fd7-32d0ca2bf570.png)

##### 图2-1 单击提交版本

b）选中该数据库，单击三个点按钮 > 数据库版本，进入“设计版本管理”页面。

![image](https://user-images.githubusercontent.com/79617492/201312739-7e99fa04-f83b-498b-9b53-786db55724a6.png)

##### 图2-2 单击数据库版本

c）在“设计版本管理”页面，单击保存新版本，进入“提交当前版本信息”页面。

![image](https://user-images.githubusercontent.com/79617492/201312818-50031863-4a38-4400-ab23-b4edb77b7972.png)

##### 图2-3 单击保存新版本

d）在“提交当前版本信息”页面，填入版本描述后，单击确认。

![image](https://user-images.githubusercontent.com/79617492/201312836-5a2a8e43-86a0-4d68-bc3b-1eb1b28b02c9.png)

##### 图2-4 填入版本描述

e）单击同步按钮，进入“数据库同步配置”页面。

说明：当保存了多个版本未同步时，只需要同步最新的版本，之前的未同步版本也会进行同步。

![image](https://user-images.githubusercontent.com/79617492/201312852-dc2b4d8c-bc17-45c6-98b9-b0bc74ecc470.png)

##### 图2-5 进入“数据库同步配置”页面

f）在“数据库同步配置”页面，选择数据库同步方式，然后单击同步，进入“版本比较”页面。

![image](https://user-images.githubusercontent.com/79617492/201312872-7f9b7e54-bcb8-404d-8eb7-dd53b4bf4b84.png)

##### 图2-6 进入“版本比较”页面

```
说明：

f1）重建整表：先删除服务器数据库上原有的表，然后重新创建新表，原有表的数据也会被删除，请谨慎操作，数据不可恢复。

f2）更新字段：将平台上对表的增删改查操作同步到服务器上的数据库，若有删除表的操作，也会删除服务器上的数据库表。
```

g）在“版本比较”页面，可以看到新版本的变化信息，单击同步即可。

![image](https://user-images.githubusercontent.com/79617492/201312899-98e59886-e557-4192-9747-ccc5ff840c38.png)

##### 图2-7 单击同步

h）同步完成后，可以查看同步日志，确认是否同步成功。

![image](https://user-images.githubusercontent.com/79617492/201312913-1b505d88-352c-40d3-8a81-aea751f90226.png)

##### 图2-8 确认是否同步成功
