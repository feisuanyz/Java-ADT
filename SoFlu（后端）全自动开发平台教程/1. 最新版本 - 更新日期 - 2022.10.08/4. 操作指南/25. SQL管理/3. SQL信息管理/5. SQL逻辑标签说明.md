### 4. 操作指南

#### 4.25 SQL管理

#### 4.25.3 SQL信息管理

#### 4.25.3.5 SQL逻辑标签说明

本节为您介绍SQL逻辑标签的使用说明。

##### SQL配置化增加逻辑标签功能的目的就是为了消除在平台开发接口中拼接SQL语句这种很不便于维护的方式，有利于优化产品的功能。

#### 4.25.3.5.1 if 标签

if标签是用来做判断用的，条件成立则会将标签中的内容追加到SQL语句中` where `条件部分，条件不成立则会跳过不追加此处的内容到SQL语句中。

a）test 属性

样例：

```
<if test="beginTime != null">
    and createTime &gt;= #{beginTime}
</if>
<if test="endTime != null">
    and createTime &lt;= #{endTime}
</if>
```

##### 说明：test属性中的内容就是ognl表达式，是用来判断表达式是否成立的。

b）direction 属性

样例：

```
<if test="registerIp != null and registerIp != ''" direction="left">
      and registerIp like #{registerIp}
</if>
```

##### 说明：direction属性是专门为SQL中的like子句定制的，if标签中包含有direction属性则代表此处if标签中的内容是一个like子句，后端程序在处理时就会为参数加上模糊匹配标识符“%”，使用时根据实际情况为direction属性指定合适的值。

```
  direction属性的值规定有3个，分别是：
  LEFT   ("left","左匹配")    -> 例如：XXX%
  RIGHT  ("right","右匹配")   -> 例如：%XXX
  ALL    ("all","全局匹配")   -> 例如：%XXX%
```

##### 注意：当direction属性的值为null或空字符串时direction=""，则不会给参数加上模糊匹配符“%”，会将其当做一个普通的if标签来处理（只是替换参数）。

#### 4.25.3.5.2 foreach 标签

foreach标签时专门为` where `条件部分的` in `子句和` not in `子句定制的，其也包含if标签中的test属性用来做判断，只有条件成立时才会处理foreach中的内容并将其追加到SQL当中。

a）test 属性

样例：

```
<if test="beginTime != null">
    and createTime &gt;= #{beginTime}
</if>
<if test="endTime != null">
    and createTime &lt;= #{endTime}
</if>
```

##### 说明：test属性中的内容就是ognl表达式，是用来判断表达式是否成立的。

b）表达式中的属性
