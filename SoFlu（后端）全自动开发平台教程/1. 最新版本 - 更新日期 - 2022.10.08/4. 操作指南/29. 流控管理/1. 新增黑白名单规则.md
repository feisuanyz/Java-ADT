### 4. 操作指南

#### 4.29 流控管理

#### 4.29.1 新增黑白名单规则

当接口被恶意攻击或频繁访问时，会对服务器产生巨大压力，因此可以通过流控管理黑白名单规则来做限制，从而缓解服务器的压力。当该IP地址在白名单规则内时，则允许访问对应的接口，当该IP地址在黑名单规则内时，则不允许访问对应的接口。

#### 4.29.1.1 章节指引

a）新增黑白名单规则

b）删除黑白名单规则

c）编辑黑白名单规则

d）查询黑白名单规则

#### 4.29.1.1.1 新增黑白名单规则

a）在“项目管理页面”，单击 流控管理 > 黑白名单 > 新增。

![image](https://user-images.githubusercontent.com/79617492/229679172-84f4580d-a1c7-446d-8802-36406262af64.png)

##### 图1-1 单击新增

b）在“新增名单规则页面”，填写基本信息，然后单击确定即可。

```
字段说明：

b1）规则范围：项目指当前项目下所有接口，接口指单个指定接口，若项目里同时存在项目和接口的规则范围时，则接口规则优先级更高。

b2）规则类型：白名单表示只有指定IP才可以访问，黑名单表示指定的IP拒绝访问。

b3）指定的IP：指实行规则的IP，按回车键创建。
```

![image](https://user-images.githubusercontent.com/79617492/229679179-5c43a427-9e7b-4614-aa7b-f9795a8a1a80.png)

##### 图1-2 填写基本信息

c）执行该项目的接口测试用例时会执行不通过。

##### 说明：当前黑名单规则范围为项目，即该项目下的所有接口在127.0.0.1的IP下不可访问。

![image](https://user-images.githubusercontent.com/79617492/229679192-a09f3687-b131-4777-ac57-0668e76152fd.png)

##### 图1-3 执行不通过

#### 4.29.1.1.2 删除黑白名单规则

a）在“流控管理页面”，单击黑白名单，选择需要删除的流控数据，单击操作栏下的删除按钮。

![image](https://user-images.githubusercontent.com/79617492/229679209-e4987284-1f03-41cb-86d3-7e90dbe2b5c5.png)

##### 图1-4 单击操作栏下的删除按钮

b）在“二次提醒”弹窗中，单击确定即可。

![image](https://user-images.githubusercontent.com/79617492/229679228-4e4391eb-87b0-42e7-a0ff-03d02cf5bdc6.png)

##### 图1-5 单击确定

#### 4.29.1.1.3 编辑黑白名单规则

a）在“流控管理页面”，单击黑白名单，选择需要编辑的流控数据，单击操作栏下的编辑按钮。

![image](https://user-images.githubusercontent.com/79617492/229679243-179326d1-da76-4b08-aae1-1d766a0b73fe.png)

##### 图1-6 单击操作栏下的编辑按钮

b）在“修改名单规则页面”，修改对应的数据，单击确定即可。

![image](https://user-images.githubusercontent.com/79617492/229679259-662355b7-8b3c-4b81-b067-7c4036ff488e.png)

##### 图1-7 修改对应的数据

#### 4.29.1.1.4 查询黑白名单规则

a）在“流控管理页面”，单击黑白名单，筛选需要查询的规则范围、规则类型以及规则状态。

![image](https://user-images.githubusercontent.com/79617492/229679270-e33b7114-c876-49a4-8b04-5bf1626c96c2.png)

##### 图1-8 筛选需要查询的规则信息

b）单击查询即可看到对应数据。

![image](https://user-images.githubusercontent.com/79617492/229679288-4091ed83-4f87-4477-9704-a0338030d0f3.png)

##### 图1-9 单击查询
