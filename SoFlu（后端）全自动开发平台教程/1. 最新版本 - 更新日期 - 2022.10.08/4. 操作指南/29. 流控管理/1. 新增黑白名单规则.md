### 4. 操作指南

#### 4.29 流控管理

#### 4.29.1 新增黑白名单规则

当接口被恶意攻击或频繁访问时，会对服务器产生巨大压力，因此可以通过流控管理黑白名单规则来做限制，从而缓解服务器的压力。当该IP地址在白名单规则内时，则允许访问对应的接口，当该IP地址在黑名单规则内时，则不允许访问对应的接口。

#### 4.29.1.1 章节指引

a）新增黑白名单规则

b）删除黑白名单规则

c）编辑黑白名单规则

d）查询黑白名单规则

#### 4.29.1.1.1 新增黑白名单规则

a）在“项目管理页面”，单击 流控管理 > 黑白名单 > 新增。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/4.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/29.%20%E6%B5%81%E6%8E%A7%E7%AE%A1%E7%90%86/image.png)

##### 图1-1 单击新增

b）在“新增名单规则页面”，填写基本信息，然后单击确定即可。

```
字段说明：

b1）规则范围：项目指当前项目下所有接口，接口指单个指定接口，若项目里同时存在项目和接口的规则范围时，则接口规则优先级更高。

b2）规则类型：白名单表示只有指定IP才可以访问，黑名单表示指定的IP拒绝访问。

b3）指定的IP：指实行规则的IP，按回车键创建。
```

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/4.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/29.%20%E6%B5%81%E6%8E%A7%E7%AE%A1%E7%90%86/1-2.png)

##### 图1-2 填写基本信息

c）执行该项目的接口测试用例时会执行不通过。

##### 说明：当前黑名单规则范围为项目，即该项目下的所有接口在127.0.0.1的IP下不可访问。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/4.%20%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/29.%20%E6%B5%81%E6%8E%A7%E7%AE%A1%E7%90%86/1-3.png)

##### 图1-3 执行不通过
