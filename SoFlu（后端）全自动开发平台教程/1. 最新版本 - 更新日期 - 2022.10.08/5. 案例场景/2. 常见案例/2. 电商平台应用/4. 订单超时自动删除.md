### 5. 案例场景

#### 5.2 常见案例

#### 5.2.2 电商平台应用

#### 5.2.2.4 订单超时自动删除

日常生活中，我们经常需要使用到电商平台，例如淘宝、京东、拼多多等。在这些交易场景下的订单一般会设置一个支付时间，若超过这个支付时间，该订单将自动取消并删除（或订单状态变为已过期）。

在本节案例中，我们将使用全自动开发平台实现订单超时自动删除功能。相比于传统开发，利用全自动开发平台可视化开发功能，将功能的实现逻辑在流程图中展示，开发过程变得更加简洁。

#### 5.2.2.4.1 效果展示

在全自动开发平台中，执行“订单超时自动删除”定时任务，系统将弹出调用成功的详情页面。若data输出“0”，则说明没有需要删除的订单；若data输出1，则说明删除了1条超时订单；以此类推data输出3即说明删除了3条超时订单，如图4-1所示。此时数据库中的订单表有如下变化：未支付且超过规定支付时间的订单将会自动删除，如图4-2、4-3所示。

##### 说明：本案例仅针对后端程序开发，若与前端页面联调可实现如图4-4、4-5所展示的效果，此处以淘宝平台为例。

![输入图片说明](../../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/2.%20%E7%94%B5%E5%95%86%E5%B9%B3%E5%8F%B0%E5%BA%94%E7%94%A8/4-1.png)

##### 图4-1 定时任务调用详情页面    

![输入图片说明](../../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/2.%20%E7%94%B5%E5%95%86%E5%B9%B3%E5%8F%B0%E5%BA%94%E7%94%A8/4-2.png)

##### 图4-2 调用定时任务前订单表数据
