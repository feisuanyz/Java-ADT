### 5. 案例场景

#### 5.2 常见案例

#### 5.2.7 计算学生各科总成绩

本节案例主要实现通过录入学生学号，查询该学生各科成绩，从而计算该学生的各科成绩总和。案例不仅涉及单SQL组件、单函数组件、计数器组件、赋值组件等多种组件的使用，还综合运用了资源实例、实体模型、SQL管理、接口生成器功能模块，可以较好地体现全自动开发平台的功能。

#### 5.2.7.1 准备工作

a）在数据库中准备3张数据表并配上相应的数据。

学生表：

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/image.png)

##### 图1-1 学生表

课程表：

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-2.png)

##### 图1-2 课程表

成绩表：

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-3.png)

##### 图1-3 成绩表

b）创建项目（可参见《SoFlu（后端）全自动开发平台教程第2.1节：如何创建项目》）

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-4.png)

##### 图1-4 创建项目

c）向项目中添加组件、平台自定义函数、数据库中间件资源等加载项（可参见《SoFlu（后端）全自动开发平台教程第2.2节：如何加载资源》）

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-5.png)

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-6.png)

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-7.png)

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-8.png)

##### 图1-5/6/7/8 添加组件

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-9.png)

##### 图1-9 添加函数加载项

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-10.png)

##### 图1-10 数据库中间件加载项

d）使用数据库中间件资源创建嵌入式直连DB连接

可以采用直接填写配置项，也可以通过点击数据库连接来配置。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-11.png)

##### 图1-11 直接填写配置项

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-12.png)

##### 图1-12 点击数据库连接

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-13.png)

##### 图1-13 修改数据库连接

e）利用接口生成器自动生成实体模型和SQL信息（可参见《SoFlu（后端）全自动开发平台教程第16.2.7节：自动生成实体模型》及《SoFlu（后端）全自动开发平台第5.2节：如何自动生成SQL信息》）

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-14.png)

##### 图1-14 接口生成器页面

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-15.png)

##### 图1-15 生成实体模型和SQL模块

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-16.png)

##### 图1-16 实体模型

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-17.png)

##### 图1-17 SQL模块

#### 5.2.7.2 功能实现

a）新增接口模块，新增接口

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-18.png)

##### 图1-18 编辑接口模块

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-19.png)

##### 图1-19 填写基本信息

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-20.png)

##### 图1-20 入参列表

b）流程图编辑

流程图概览：

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-21.png)

##### 图1-21 流程图概览

b1）单SQL组件（【查询】学生成绩）：根据学生学号在成绩表中查询该学生各科成绩，具体配置见下图。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-22.png)

##### 图1-22 单SQL组件

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-23.png)

##### 图1-23 填写数据

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-24.png)

##### 图1-24 SQL内容

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-25.png)

##### 图1-25 参数选择

b2）单函数组件（取成绩列表大小）：计算查询到的学生成绩列表记录条数，即该学生有几科成绩需要进行累加，具体配置见下图。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-26.png)

##### 图1-26 单函数组件

b3）计数器组件（【遍历】学生成绩列表）：循环遍历查询到的学生成绩记录，计数器默认从0逐次递加到查询到的记录数，具体配置见下图。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-27.png)

##### 图1-27 计数器组件

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-28.png)

##### 图1-28 计数器递增

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-29.png)

##### 图1-29 参数录入

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-30.png)

##### 图1-30 参数选择

b4）赋值组件（计算成绩）：用来计算该学生各科成绩总和，具体配置见下图。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-31.png)

##### 图1-31 赋值组件

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-32.png)

##### 图1-32 表格选择

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-33.png)

##### 图1-33 填写模型数据1

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-34.png)

##### 图1-34 填写模型数据2

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-35.png)

##### 图1-35 填写模型数据3

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-36.png)

##### 图1-36 参数选择1

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-37.png)

##### 图1-37 参数选择2

b5）互斥条件组件（判断是否循环）：用于判断是否继续循环进行成绩累加计算，当遍历学生成绩列表记录数小于查询到的学生成绩列表总数时，继续循环操作进行累加；当遍历学生成绩列表记录数大于等于查询到的学生成绩列表总数时，退出循环，具体配置见下图。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-38.png)

##### 图1-38 互斥条件

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-39.png)

##### 图1-39 顺序流1

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-40.png)

##### 图1-40 流转条件1

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-41.png)

##### 图1-41 顺序流2

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-42.png)

##### 图1-42 流转条件2

b6）输出结果组件：将赋值组件计算得到的结果输出，具体配置见下图。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-43.png)

##### 图1-43 输出结果

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-44.png)

##### 图1-44 填写数据

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-45.png)

##### 图1-45 参数选择

c）完成流程图编辑之后，保存并退出。

d）提交并发布接口。

e）编辑测试用例录入参数（即学生学号），并启用可视化日志，如下图。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-46.png)

##### 图1-46 点击测试用例

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-47.png)

##### 图1-47 编辑测试用例并启用可视化日志

f）执行测试用例，查看测试用例执行结果。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/5.%20%E6%A1%88%E4%BE%8B%E5%9C%BA%E6%99%AF/2.%20%E5%B8%B8%E8%A7%81%E6%A1%88%E4%BE%8B/7.%20%E8%AE%A1%E7%AE%97%E5%AD%A6%E7%94%9F%E5%90%84%E7%A7%91%E6%80%BB%E6%88%90%E7%BB%A9/1-48.png)

##### 图1-48 执行测试用例
