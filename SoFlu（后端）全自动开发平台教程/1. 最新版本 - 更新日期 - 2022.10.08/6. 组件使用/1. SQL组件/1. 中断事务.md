### 6. 组件使用

#### 6.1 SQL组件

#### 6.1.1 中断事务

中断事务组件是指中断事务的提交，在“开启事务”到“中断事务”组件之间的SQL数据都会自动回滚，不管中间的SQL执行成功还是失败，但在中断事务后的SQL组件不会自动回滚。“中断事务”组件只能在“开启事务”和“提交事务”之间。

#### 6.1.1.1 前提条件

项目中已加载“中断事务”组件。

#### 6.1.1.2 操作步骤

a）在项目加载项页面，单击“组件 > 添加中断事务组件”，然后单击“加载应用”。

![image](https://user-images.githubusercontent.com/79617492/229702412-4c0f9d48-3681-4805-9b77-82790536d59e.png)

##### 图1-1 单击“加载应用”

b）新增测试接口，在 “开启事务” 和 “提交事务” 组件中间加入 “中断事务” 组件。

##### 说明：举例测试接口逻辑：对数据库表里新增数据，接着执行中断事务组件，回滚数据，提交事务，最后查询数据库表数据，输出查询结果。

![image](https://user-images.githubusercontent.com/79617492/229702433-911b7842-1cba-468a-9f0c-79b14a6309cd.png)

##### 图1-2 新增测试接口

c）发布接口，然后执行接口测试用例，查看响应内容。

```
说明：

c1）响应内容里“data”显示了空，因为“中断事务”回滚了SQL数据，所以数据库表里没有新增数据。

c2）“中断事务”组件只会自动回滚“开启事务”到“中断事务”组件之间的SQL数据，在“中断事务”组件后面的SQL数据则根据当前事务的设置决定是否回滚。
```

![image](https://user-images.githubusercontent.com/79617492/229702452-2f027c95-a282-4def-9124-6241cdd1b61c.png)

##### 图1-3 查看响应内容
