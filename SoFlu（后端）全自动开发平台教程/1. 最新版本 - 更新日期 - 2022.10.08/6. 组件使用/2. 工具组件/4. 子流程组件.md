### 6. 组件使用

#### 6.2 工具组件

#### 6.2.4 子流程组件

在项目开发过程中，可将公共方法、复杂方法或公共流程在子流程接口中编写，然后再通过子流程组件去调用子流程接口，可以提高接口的执行效率。

#### 6.2.4.1 前提条件

a）项目中已加载子流程组件。

b）已创建子流程接口，具体操作请参考《SoFlu（后端）全自动开发平台教程第4.18章：子流程管理》。

#### 6.2.4.2 操作步骤

a）在窗体视图左侧组件列表，找到子流程组件，拖拽至绘图面板。

b）选中子流程组件，填写组件的名称和描述，单击子流程名称后选择记录方框。

![image](https://user-images.githubusercontent.com/79617492/208052496-0d0eb7f5-a970-4636-9a09-f2d79d1af452.png)

##### 图4-1 填写组件的名称和描述

c）进入子流程选择页面，选择所需子流程后，单击确定即可。

![image](https://user-images.githubusercontent.com/79617492/208052522-f6a9ead6-3534-422d-8c08-9b82c82b1c53.png)

##### 图4-2 选择所需子流程

d）若选中的子流程需要入参，则需要在入参映射处录入参数；若不需要，则无需填写。

![image](https://user-images.githubusercontent.com/79617492/208052559-a27c97d6-8bb1-47d0-91f8-aced42530096.png)

##### 图4-3 选择是否录入参数

e）选择是否异步执行子流程，若打开异步执行按钮，则需要选择线程池实例。

![image](https://user-images.githubusercontent.com/79617492/208052594-615595d0-887d-4e26-b122-5531ed1a9ed8.png)

##### 图4-4 选择是否异步执行子流程

```
说明：

e1）若将子流程组件设置为异步执行，子流程将在线程池异步执行，主流程会继续执行后面的流程，无需等待子流程执行完成，关于如何创建线程池资源实例请参考《SoFlu（后端）全自动开发平台教程第15.1.11节：新增线程池资源》；若子流程组件未开启异步执行，则主流程需要等待子流程执行完毕后，才会执行后续的流程。

e2）若其它组件需要引用子流程组件的执行结果，则需要在选择的子流程接口中设置出参才可引用。
```
