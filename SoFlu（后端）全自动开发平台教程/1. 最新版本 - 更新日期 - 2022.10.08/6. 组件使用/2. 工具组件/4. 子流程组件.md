### 6. 组件使用

#### 6.2 工具组件

#### 6.2.4 子流程组件

在项目开发过程中，可将公共方法、复杂方法或公共流程在子流程接口中编写，然后再通过子流程组件去调用子流程接口，可以提高接口的执行效率。

#### 6.2.4.1 前提条件

a）项目中已加载子流程组件。

b）已创建子流程接口，具体操作请参考《SoFlu（后端）全自动开发平台教程第4.18章：子流程管理》。

#### 6.2.4.2 操作步骤

a）在窗体视图左侧组件列表，找到子流程组件，拖拽至绘图面板。

b）选中子流程组件，填写组件的名称和描述，单击子流程名称后选择记录方框。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/6.%20%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8/2.%20%E5%B7%A5%E5%85%B7%E7%BB%84%E4%BB%B6/4-1.png)

##### 图4-1 填写组件的名称和描述

c）进入子流程选择页面，选择所需子流程后，单击确定即可。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/6.%20%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8/2.%20%E5%B7%A5%E5%85%B7%E7%BB%84%E4%BB%B6/4-2.png)

##### 图4-2 选择所需子流程

d）若选中的子流程需要入参，则需要在入参映射处录入参数；若不需要，则无需填写。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/6.%20%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8/2.%20%E5%B7%A5%E5%85%B7%E7%BB%84%E4%BB%B6/4-3.png)

##### 图4-3 选择是否录入参数

e）选择是否异步执行子流程，若打开异步执行按钮，则需要选择线程池实例。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/6.%20%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8/2.%20%E5%B7%A5%E5%85%B7%E7%BB%84%E4%BB%B6/4-4.png)

##### 图4-4 选择是否异步执行子流程

```
说明：

e1）若将子流程组件设置为异步执行，子流程将在线程池异步执行，主流程会继续执行后面的流程，无需等待子流程执行完成，关于如何创建线程池资源实例请参考《SoFlu（后端）全自动开发平台教程第15.1.11节：新增线程池资源》；若子流程组件未开启异步执行，则主流程需要等待子流程执行完毕后，才会执行后续的流程。

e2）若其它组件需要引用子流程组件的执行结果，则需要在选择的子流程接口中设置出参才可引用。
```
