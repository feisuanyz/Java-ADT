### 6. 组件使用

#### 6.2 工具组件

#### 6.2.6 计数器组件

在项目开发过程中，常需要使用计数器组件创建循环流程，再通过循环取出所需数据。

#### 6.2.6.1 操作步骤

a）在窗体视图左侧组件列表，找到计数器组件，拖拽至绘图面板。

b）选中计数器组件，单击循环流程变量处录入参数方框。

![image](https://user-images.githubusercontent.com/79617492/208053530-f1254bfa-fc35-49b2-ac99-242a0d86831a.png)

##### 图6-1 单击循环流程变量处录入参数方框

c）进入参数选择页面，设置循环流程变量，设置完成后单击确定。

![image](https://user-images.githubusercontent.com/79617492/208053565-3fcf1233-44da-493c-bda9-6cb255367def.png)

##### 图6-2 设置循环流程变量

##### 说明：当前循环流程变量的入参以接口入参为例，也可以是一个集合对象或数组对象，用于遍历数据。

d）操作符选择递增或递减，当前选择递减举例。

![image](https://user-images.githubusercontent.com/79617492/208053597-bf8815a4-286c-412c-9e9a-8b30fb2bf144.png)

##### 图6-3 操作符选择递增或递减

```
说明：

递增：表示计数器索引值从0开始递增，每循环一次计数器索引值加1，一直递增到与循环流程变量的记录数相等便不再增加。

递减：表示计数器索引值从循环流程变量的记录数开始递减，每循环一次计数器索引值减1，一直减到0便不在减少。
```

e）如下图所示，选中互斥组件下方的继续循环流程线，即可在右侧单击未选择记录方框设置循环流转条件。

![image](https://user-images.githubusercontent.com/79617492/208053622-682ec873-a620-4b55-91c7-885d5a12d5f7.png)

##### 图6-4 单击未选择记录方框设置循环流转条件

f）进入流转条件设置页面，如下图所示，设置计数器索引值大于0继续循环，否则退出循环，单击确定。

![image](https://user-images.githubusercontent.com/79617492/208053642-c8f3a6aa-e1f5-41d8-b773-121c063189af.png)

##### 图6-5 设置计数器索引值大于0继续循环

##### 说明：更多互斥组件的使用，请参考《SoFlu（后端）全自动开发平台教程第6.5.1节：互斥组件》。

g）设置输出结果，录入接口入参后执行接口，计数器会开始进行循环，符合循环条件就继续循环，不符合则退出循环，输出结果。

![image](https://user-images.githubusercontent.com/79617492/208053661-397a19bb-78e8-409d-a494-fcb851fc169f.png)

##### 图6-6 执行接口
