### 7. 进阶指南

#### 7.1 微服务治理

#### 7.1.6 通过Nacos修改配置信息

(后端)全自动开发平台支持对接Nacos，用户可以在自行搭建好Nacos后，通过新建bootstrap.yml文件即可实现在Nacos上修改已部署项目的相关资源实例及配置组的配置信息，无需重新部署项目。

#### 7.1.6.1 操作步骤

a）在项目jar包同级目录下新建如下所示的bootstrap.yml文件，将enabled设置为true，打开Nacos的配置开关；同时需保证yml文件中的地址与Nacos配置资源实例中填写的地址一致，保存该yml文件即可。

![image](https://user-images.githubusercontent.com/79617492/210977578-a3ce7eac-22d5-4546-8d23-8a98e659b082.png)

##### 图6-1 新建bootstrap.yml文件

![image](https://user-images.githubusercontent.com/79617492/210977589-67f782e3-6609-4838-ba8a-fb3d7796f261.png)

##### 图6-2 将enabled设置为true


```
spring:
  cloud:
    nacos:
      config:
        enabled: true
        server-addr: ${NACOS_HOST:127.0.0.1}:${NACOS_PORT:8080}
      discovery:
        enabled: true
        server-addr: ${NACOS_HOST:127.0.0.1}:${NACOS_PORT:8080}
```

b）启动项目后，在浏览器中输入Nacos地址（即Nacos配置资源实例中填写的地址），登录Nacos服务进入Nacos页面；在服务列表中输入服务名称（即部署项目的项目路径）进行查询，若能查询出来，则说明配置成功。

![image](https://user-images.githubusercontent.com/79617492/210977616-ca35858f-5de5-4c78-b8c8-6230767354c2.png)

##### 图6-3 输入服务名称

c）选择Nacos页面中的配置管理，单击配置列表，输入项目的Group（即部署项目包的环境路径，部署环境-项目路径）进行查询。

![image](https://user-images.githubusercontent.com/79617492/210977629-8d7fc471-9e78-48ee-9ca3-f6a5c065fb10.png)

##### 图6-4 输入项目的Group

d）查询出当前项目的所有资源实例或配置组的信息后，用户可根据需求进行修改。

例：编辑defaultGroup数据

![image](https://user-images.githubusercontent.com/79617492/210977650-0104ce39-2143-46e1-b578-94a073eadc73.png)

##### 图6-5 编辑defaultGroup数据

e）修改对应配置内容，点击发布，然后重启服务即可生效，无需重新部署版本。

![image](https://user-images.githubusercontent.com/79617492/210977658-9354a601-6b04-468f-ba9c-1d6c0a7f6ae5.png)

##### 图6-6 修改对应配置内容
