### 7. 进阶指南

#### 7.1 微服务治理

#### 7.1.6 通过Nacos修改配置信息

(后端)全自动开发平台支持对接Nacos，用户可以在自行搭建好Nacos后，通过新建bootstrap.yml文件即可实现在Nacos上修改已部署项目的相关资源实例及配置组的配置信息，无需重新部署项目。

#### 7.1.6.1 操作步骤

a）在项目jar包同级目录下新建如下所示的bootstrap.yml文件，将enabled设置为true，打开Nacos的配置开关；同时需保证yml文件中的地址与Nacos配置资源实例中填写的地址一致，保存该yml文件即可。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/7.%20%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97/1.%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/6-1.png)

##### 图6-1 新建bootstrap.yml文件

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/7.%20%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97/1.%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/6-2.png)

##### 图6-2 将enabled设置为true


```
spring:
  cloud:
    nacos:
      config:
        enabled: true
        server-addr: ${NACOS_HOST:127.0.0.1}:${NACOS_PORT:8080}
      discovery:
        enabled: true
        server-addr: ${NACOS_HOST:127.0.0.1}:${NACOS_PORT:8080}
```

b）启动项目后，在浏览器中输入Nacos地址（即Nacos配置资源实例中填写的地址），登录Nacos服务进入Nacos页面；在服务列表中输入服务名称（即部署项目的项目路径）进行查询，若能查询出来，则说明配置成功。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/7.%20%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97/1.%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/6-3.png)

##### 图6-3 输入服务名称

c）选择Nacos页面中的配置管理，单击配置列表，输入项目的Group（即部署项目包的环境路径，部署环境-项目路径）进行查询。

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/7.%20%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97/1.%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/6-4.png)

##### 图6-4 输入项目的Group

d）查询出当前项目的所有资源实例或配置组的信息后，用户可根据需求进行修改。

例：编辑defaultGroup数据

![输入图片说明](../../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/7.%20%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97/1.%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/6-5.png)

##### 图6-5 编辑defaultGroup数据
