### 8. 高阶专题

#### 8.1 通用插件

#### 8.1.1 自定义初始化器

初始化器的定义需要按照以下方式进行，然后存放到项目中的resources目录下名为plugins.xml的文件中，并一起打成jar包上传到平台即可。

#### 8.1.1.1 前提条件

自定义插件需要下载如下Demo工程包和加载项开发包，具体如下：

a）插件Demo工程包下载地址：demo-plugin.zip

b）下载加载项开发包：在(后端)全自动开发平台中，单击右上角下载加载项开发包，如图1-1所示。

![image](https://user-images.githubusercontent.com/79617492/211451528-d29d5cab-a5c3-45ce-a35b-cf78ac058fe7.png)

##### 图1-1 下载加载项开发包

#### 8.1.1.2 操作步骤

a）在pom文件中增加依赖包。

包名：com.feisuanyz.flow.core.cmpt.runner

类名：ApplicationRunner

```
<dependency>
     <groupId>com.feisuanyz.flow</groupId>
     <artifactId>flow-core-cmpt</artifactId>
     <version>${version}</version>
     <scope>provided</scope>
     <systemPath>${开发辅助工具路径}/flow-core-cmpt-${version}.jar</systemPath>
</dependency>
```

b）实现ApplicationRunner接口。

包名：com.feisuanyz.flow.core.cmpt.runner

类名：ApplicationRunner

实现方法：

```
/** 
* <p>
* 	 初始化操作需要在该方法中实现
* </p>
* @return void 
* @throws ApplicationRunnerException 
*/
void run() throws ApplicationRunnerException;
```

c）对自定义的初始化器打jar包。

将开发完的接口存放到项目中的resources目录下名为plugins.xml的文件中并一起打成jar包，生成如下类似文件：


```
demo-plugin-1.0.0.jar

demo-plugin-1.0.0.pom
```

d）将生成的demo-plugin-1.0.0.jar和demo-plugin-1.0.0.pom压缩成一个zip包上传到平台即可。

##### 说明：如何导入自定义插件，请参见《SoFlu（后端）全自动开发平台教程第4.8.2节：导入自定义插件》详细操作步骤。
