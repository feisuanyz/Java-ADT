### 9. 常见问题

#### 9.3 如何实现多字段批量删除数据

平台支持通过接口来实现单字段批量删除数据，在接口中以 List< Map > 或其它基本类型方式做为入参，然后通过循环的方式取出Map中的数据，最后执行删除SQL语句，即可批量删除数据。

#### 9.3.1 操作步骤

a）新建接口，在“入参列表”中新增一个类型为 List< Map > 的参数作为入参，然后单击提交。

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/9.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/3-1.png)

##### 图3-1 新增一个类型为 List< Map > 的参数

b）进入流程编辑器，拖入一个单函数组件到流程上，然后点击单函数组件，点击右边的未选中记录。

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/9.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/3-2.png)

##### 图3-2 点击未选中记录

c）选择自定义函数，选择List函数，取出入参大小（size）。

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/9.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/3-3.png)

##### 图3-3 填写函数数据

d）取出大小后，拖入一个计数器组件进行循环操作，右边的循环流程变量选择上一步的单函数返回结果，操作符选择递增。

##### 说明：根据list的长度进行循环。每循环一次，计数器组件次数+1。

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/9.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/3-4.png)

##### 图3-4 进行循环操作

e）在计数器下方添加互斥组件，用于判断循环是否结束。

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/9.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/3-5.png)

##### 图3-5 添加互斥组件

未退出时流转条件（当计数器的值小于list的长度时，则继续循环）：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/9.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/3-6.png)

##### 图3-6 未退出时流转条件

退出时流转条件（当计数器的值大于等于list的长度时，则退出循环）：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/1.%20%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%20-%20%E6%9B%B4%E6%96%B0%E6%97%A5%E6%9C%9F%20-%202022.10.08/9.%20%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/3-7.png)

##### 图3-7 退出时流转条件
