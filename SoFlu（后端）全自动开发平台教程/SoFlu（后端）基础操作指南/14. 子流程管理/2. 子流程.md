### 2. 子流程

#### 2.1 新增子流程

本节主要介绍如何新增子流程的具体操作方法。

##### 2.1.1 操作步骤

a）在“子流程管理”页面中，选择子流程模块，单击“+”再选择“新增子流程”，如图2-1所示：

![image](https://user-images.githubusercontent.com/79617492/170647779-f46b5447-1c80-401b-8756-7b76fb5c9b5c.png)

##### 图2-1 选择子流程模块

b）在新增子流程页面”，输入子流程名称和描述信息，单击“下一步”，如图2-2所示：

![image](https://user-images.githubusercontent.com/79617492/170647797-8bfa27de-a092-4d27-b3f5-f5c23f204405.png)

##### 图2-2 新增子流程

c）在入参列表页面，单击“新增”添加子流程的入参信息，入参名称和类型请根据实际配置，如图2-3所示：

![image](https://user-images.githubusercontent.com/79617492/170647816-7f915517-c4b7-402e-9050-17d05414c1b0.png)

##### 图2-3 新增子流程入参字段

##### 说明：

##### a'）您可以根据事情需求自行添加子流程入参字段，请根据系统提示信息输入字段名称和选择数据类型。

##### b'）您可以单击操作列的删除，删除该条字段。

d）在出参列表页面，单击“新增”添加子流程的出参信息，出参名称和类型请根据实际配置，如图2-4所示：

![image](https://user-images.githubusercontent.com/79617492/170647865-c7f4e732-7af3-48f7-8cc8-bce8773de269.png)

##### 图2-4 新增子流程出参字段

##### 说明：

##### a'）您可以根据事情需求自行添加子流程出参字段，请根据系统提示信息输入字段名称和选择数据类型。

##### b'）您可以单击操作列的删除，删除该条字段。

e）单击“提交”，完成新增子流程配置，如图2-5所示：

![image](https://user-images.githubusercontent.com/79617492/170647912-f0101c62-1dbe-4db8-8df5-9b5891cd1e68.png)

##### 图2-5 新增子流程配置

#### 2.2 复制、导入、导出子流程

系统提供该功能，用户可以在同项目中复制、或者在不同项目之间导入导出子流程，以减少频繁添加公共的子流程。

##### 前提条件

您需要拥有“子流程管理”模块的权限。

权限由系统管理员在“用户权限中心”系统中配置。

##### 2.2.1 操作步骤：复制子流程

a）进入“子流程管理”模块，选中需复制的子流程，单击旁边的三个点符号，或进入编辑子流程页面，选择“复制子流程”，如图2-6、2-7所示：

![image](https://user-images.githubusercontent.com/79617492/170647951-5cef00bd-be87-44f8-8633-045cfc8370b6.png)

##### 图2-6 子流程列表

![image](https://user-images.githubusercontent.com/79617492/170647979-f6c165d5-9548-4ef2-90eb-d2f0bad64054.png)

##### 图2-7 编辑子流程页面

b）系统弹出“是否复制到当前模块”提示，您可根据需求选择当前模块或其他模块，如图2-8所示：

![image](https://user-images.githubusercontent.com/79617492/170648005-0998573d-6574-40f9-83a4-8c76863f5a53.png)

##### 图2-8 弹出提示框

c）修改子流程的名称，单击“提交”即可，如图2-9所示：

![image](https://user-images.githubusercontent.com/79617492/170648018-6b6594f6-79fe-4f60-8bb1-4f3c9f24e516.png)

##### 图2-9 修改子流程名称

d）复制后的子流程会显示在列表中，如图2-10所示：

![image](https://user-images.githubusercontent.com/79617492/170648036-96a7de52-c295-473f-86c1-0110e8d0253c.png)

##### 图2-10 复制成功

##### 2.2.2 操作步骤：导入子流程

a）进入“子流程管理”模块，单击“新增子流程模块”旁边的三个点按钮选择“导入子流程”，如图2-11所示：

![image](https://user-images.githubusercontent.com/79617492/170648057-837b8d9d-216f-4b94-ba44-eedda5bfc9c5.png)

##### 图2-11 导入子流程

b）系统显示导入子流程页面，选择要导入的模块，如图2-12所示：

![image](https://user-images.githubusercontent.com/79617492/170648078-8a1d748b-4e5a-46c5-bd01-8a93811906ad.png)

##### 图2-12 选择导入模块

##### 注意：若选择了指定的导入模块，子流程将导入指定模块；若未选择指定导入模块但导入的子流程JSON文件中包含模块信息，系统会根据子流程JSON文件中的模块信息将该子流程导入到相应的模块中；若您既没有选择指定导入模块，导入的子流程JSON文件中也不包含模块信息，系统会自动生成默认模块将子流程导入。

c）选择需上传的子流程JSON文件，单击“导入”。

##### 注意：若需导入的子流程在系统中已存在时，您需要选择“覆盖原有子流程”才可导入，原有子流程将会自动删除。

d）系统提示“导入子流程成功”。

##### 2.2.3 操作步骤：导出子流程

a）进入“子流程管理”模块，单击“新增子流程模块”旁边的三个点按钮选择“导出子流程”，如图2-13所示：

![image](https://user-images.githubusercontent.com/79617492/170648106-64887980-ef3d-47f1-b214-dc65d8597751.png)

##### 图2-13 选择导出子流程

b）系统显示导出子流程页面，输入导出子流程文件的文件名（若未输入则自动生成），如图2-14所示：

![image](https://user-images.githubusercontent.com/79617492/170648131-408d4970-967b-4950-8938-3a21dbd397ce.png)

##### 图2-14 导出子流程页面

c）勾选需导出的子流程，同时设置是否包含模块。

##### 说明：若设置包含模块，则导出的子流程JSON文件会包含模块信息，之后需导入该子流程且未选择指定导入模块时，系统会根据子流程JSON文件中的模块信息将该子流程导入到相应的模块中。

d）单击“确定”，需导出的子流程JSON文件会在页面下方自动下载。
