### 1. 流程编辑器

#### 1.1 新增流程变量

系统提供该功能，用户在编辑流程时，可以新增全局变量或局部变量，在使用其他组件时，可以直接选择该全局变量或局部变量的字段。

##### 前提条件

a）您需要拥有“流程编辑器”功能的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 1.1.1 操作步骤

a）进入流程编辑页面，单击“变量管理”，如图1-1所示：

![image](https://user-images.githubusercontent.com/79617492/172579120-1f6c3f8f-11c3-4eec-bc7e-89e1b2dcb18c.png)

##### 图1-1 流程编辑页面

b）选择“全局变量”或“局部变量”，单击“新增”，如图1-2所示：

![image](https://user-images.githubusercontent.com/79617492/172580089-7b3a8aed-d7be-46f5-b22d-fb8059dce28c.png)

##### 图1-2 新增变量

c）填写变量名称和描述，单击“新增”编辑该变量的字段，如图1-3所示：

![image](https://user-images.githubusercontent.com/79617492/172580127-92975c5b-4fd7-4843-afd7-d029b3896b57.png)

##### 图1-3 编辑变量的字段

##### 说明：

c1）字段的类型可选择基本类型、自定义变量类型、全局变量类型、局部变量类型以及实体模型。

c2）若要在赋值组件中使用该流程变量，需将平台加载到最新版本。

d）编辑完成后，单击“提交”即可。

#### 1.2 流程图完整性校验

流程图在保存时系统会自动进行校验，只允许一个开始节点且每个分支必须要有结束节点，不允许存在无头无尾的流程图，若出现不规范的地方，系统会弹出错误提示。

##### 前提条件

a）您需要拥有“流程编辑器”功能的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 1.2.1 操作步骤

a）进行流程编辑器页面，拖拽赋值组件至画布，该赋值组件没有上一步的连接节点，单击“保存”，如图1-4所示：

![image](https://user-images.githubusercontent.com/79617492/172580213-e76aeada-eeef-47ea-b833-1303c32c8004.png)

##### 图1-4 流程编辑页面

b）系统弹出错误提示，如图1-5所示：

![image](https://user-images.githubusercontent.com/79617492/172582417-a16caf2d-48c0-42ec-85ce-ef192229797c.png)

##### 图1-5 错误提示

#### 1.3 流程图格式化

系统提供该功能，流程编辑器中提供格式化选项，用户自定义完成流程图编辑之后，单击格式化，即可让流程图展示更加规范美观。本节将为您展示格式化功能的具体效果。

##### 前提条件

a）您需要拥有“流程编辑器”功能的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 1.3.1 操作步骤

a）进入接口的流程编辑器页面，如图1-6所示：

![image](https://user-images.githubusercontent.com/79617492/172582315-987a6dbc-b7e0-44dd-a10a-a588ce1d52a5.png)

##### 图1-6 流程编辑页面

b）绘制接口的流程图（格式化前），如图1-7所示：

![image](https://user-images.githubusercontent.com/79617492/172582458-20db5b7a-848e-4828-aa32-bde71a427495.png)

##### 图1-7 绘制流程图

c）单击流程编辑器上方格式化选项，如图1-8所示：

![image](https://user-images.githubusercontent.com/79617492/172582489-87628378-177a-491f-a0f3-6c2cf22844a8.png)

##### 图1-8 点击格式化

d）即可看到流程图格式化后的效果，如图1-9所示：

![image](https://user-images.githubusercontent.com/79617492/172582502-19ece94a-0509-42f8-9c3b-9287f259c980.png)

##### 图1-9 观看效果

e）鼠标放置在格式化按钮上时，可选择撤回到上次格式化，如图1-10所示：

![image](https://user-images.githubusercontent.com/79617492/172582527-a01393ca-35d6-49d6-b1c6-0e7769ce1907.png)

##### 图1-10 撤回上次格式化

##### 需注意：流程图未保存时才可以撤回到上次格式化，已保存的流程图无法撤回。

#### 1.4 流程图组件跨项目、页签复制粘贴

流程图中的组件支持跨项目、页签进行复制粘贴，但如果当前项目没有加载相应的组件，则无法粘贴。

##### 前提条件

a）您需要拥有“流程编辑器”功能的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 1.4.1 操作步骤

a）在流程图页面，选中要复制的组件，点击复制，如图1-11所示：

![image](https://user-images.githubusercontent.com/79617492/172582570-34d20325-412d-4d50-b6d7-26180caa05bb.png)

##### 图1-11 复制组件

b）打开要粘贴的流程图页面（当前接口/其它接口/其它项目的接口），点击粘贴，移动鼠标即复制完成，如图1-12所示：

![image](https://user-images.githubusercontent.com/79617492/172582592-c2d7f33f-7638-4fc1-9613-733f4188ff8c.png)

##### 图1-12 粘贴组件

##### 说明：复制过来的组件里的数据也会一同粘贴过来。

c）当要粘贴的接口所在项目未加载对应组件时，系统会弹出如图1-13所示的提示：

![image](https://user-images.githubusercontent.com/79617492/172582628-7bbab840-ba2d-4aae-aa0f-6e2faeea02f3.png)

##### 图1-13 系统提示

d）去项目加载项加载对应的组件再进行粘贴即可。
