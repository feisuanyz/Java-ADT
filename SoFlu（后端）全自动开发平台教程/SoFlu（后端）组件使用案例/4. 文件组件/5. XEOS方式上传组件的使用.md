### 4. 文件组件

#### 4.5 XEOS方式上传组件的使用

##### 4.5.1 XEOS方式上传组件

系统提供该功能，您可以在系统中使用XEOS方式上传组件将文件以XEOS方式上传至服务器。

##### 4.5.2 前提条件

a）您需要拥有“接口管理”模块的权限。

b）权限由系统管理员在“用户权限中心”系统中配置。

##### 4.5.3 操作步骤

a）在窗体视图左侧的“组件列表”中“文件”栏目下，找到XEOS方式上传组件，拖至窗体视图，如图5-1所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/image.png)

##### 图5-1 找到XEOS方式上传组件

b）为显示效果，同时选择一个输出结果组件，拖至窗体视图，连接好组件的流程图，如图5-2所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-2.png)

##### 图5-2 连接组件流程图

c）选中XEOS方式上传组件，根据项目需求填写XEOS方式上传组件的名称和描述，如图5-3所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-3.png)

##### 图5-3 填写XEOS方式上传组件的基本信息

d）单击“XEOS上传信息”处未选中记录方框，进入填写数据页面，如图5-4所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-4.png)

##### 图5-4 配置XEOS上传信息

e）在填写数据页面，单击“资源实例名称”处的选择记录方框，选择已连好的XEOS资源，如图5-5所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-5.png)

##### 图5-5 选择资源实例

f）在“文件”处设置需上传的文件，如图5-6所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-6.png)

##### 图5-6 设置上传文件

##### 说明：设置需上传文件时，有三种方式：选择流程变量、选择函数结果以及直接输入值，您可以根据项目需求自行选择，本示例采用选择流程变量的方式，这需要在配置入口参数时配置File类型的参数，如图5-7、5-8所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-7.png)

##### 图5-7 创建file参数

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-8.png)

##### 图5-8 选择流程变量

g）设置文件上传后是否删除，配置完成后，单击“确定”，退出填写数据页面。

h）选中“输出结果”组件，单击“响应结果”处的三等号，进入选择数据页面，如图5-9所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-9.png)

##### 图5-9 配置响应结果

i）双击选择系统默认响应结果。

j）单击“输出项值”处未选中记录方框，选择流程变量，如图5-10、5-11所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-10.png)

##### 图5-10 配置输出项值

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-11.png)

##### 图5-11 选择流程变量

k）在参数选择页面，选择“XEOS方式上传”页签，双击“xeosUploadExecuteResult”引用XEOS方式上传组件的执行结果，如图5-12所示：

![输入图片说明](../../../images/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E5%BC%80%E5%8F%91%E5%B9%B3%E5%8F%B0/SoFlu%EF%BC%88%E5%90%8E%E7%AB%AF%EF%BC%89%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B/4.%20%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6/5.%20XEOS%E6%96%B9%E5%BC%8F%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/5-12.png)

##### 图5-12 选择XEOS方式上传的执行结果

l）流程图编辑完成后，单击“保存并退出”。
